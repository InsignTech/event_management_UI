module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},78211,a=>{"use strict";var b=a.i(6704);a.s(["showError",0,a=>{let c,d=(c=a.response?.data,c?.errors&&Array.isArray(c.errors)&&c.errors.length>0?c.errors.map(a=>a.message||a).join(", "):c?.message?c.message:a.message||"An unexpected error occurred");b.toast.error(d,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,a=>{b.toast.success(a,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},92258,a=>{"use strict";let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],92258)},72522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(15618),f=a.i(24569),g=a.i(81560),h=a.i(28379),i=a.i(92258);let j=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var k=a.i(53250),l=a.i(78211);function m(){let[a,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)({name:"",email:"",password:"",role:"coordinator",phone:""});(0,c.useEffect)(()=>{z()},[]);let z=async()=>{try{let a=await k.default.get("/users");a.data.success&&m(a.data.data)}catch(a){(0,l.showError)(a)}finally{o(!1)}},A=async a=>{a.preventDefault();try{(await k.default.post("/users",x)).data.success&&((0,l.showSuccess)("User created successfully"),s(!1),y({name:"",email:"",password:"",role:"coordinator",phone:""}),z())}catch(a){(0,l.showError)(a)}},B=async a=>{if(a.preventDefault(),v)try{let a={...x};a.password||delete a.password,(await k.default.put(`/users/${v._id}`,a)).data.success&&((0,l.showSuccess)("User updated successfully"),u(!1),z())}catch(a){(0,l.showError)(a)}},C=async a=>{if(confirm("Are you sure you want to remove this user? This is a soft delete."))try{(await k.default.delete(`/users/${a}`)).data.success&&((0,l.showSuccess)("User removed successfully"),z())}catch(a){(0,l.showError)(a)}},D=a.filter(a=>a.name.toLowerCase().includes(p.toLowerCase())||a.email.toLowerCase().includes(p.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"User Management"}),(0,b.jsxs)("button",{onClick:()=>{y({name:"",email:"",password:"",role:"coordinator",phone:""}),s(!0)},className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4"}),"Create User"]})]}),(0,b.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md",children:[(0,b.jsx)(d.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:"bg-transparent border-none outline-none text-sm w-full",value:p,onChange:a=>q(a.target.value)})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?(0,b.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"Loading users..."}):0===D.length?(0,b.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"No users found."}):D.map(a=>(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-colors group",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,b.jsx)(h.UserCog,{className:"h-6 w-6"})}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"super_admin"===a.role?"bg-red-500/10 text-red-500 border-red-500/20":"event_admin"===a.role?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:a.role.replace("_"," ")})]}),(0,b.jsx)("h3",{className:"text-lg font-bold mb-3",children:a.name}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(i.Mail,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:a.email})]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(j,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:a.phone})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,b.jsxs)("button",{onClick:()=>{w(a),y({name:a.name,email:a.email,password:"",role:a.role,phone:a.phone||""}),u(!0)},className:"flex-1 py-2 text-sm font-medium bg-secondary hover:bg-secondary/80 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Edit,{className:"h-4 w-4"}),"Edit"]}),(0,b.jsx)("button",{onClick:()=>C(a._id),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-colors",children:(0,b.jsx)(g.Trash2,{className:"h-4 w-4"})})]})]},a._id))}),r&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New User"}),(0,b.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Full Name"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.name,onChange:a=>y({...x,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Email Address"}),(0,b.jsx)("input",{required:!0,type:"email",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.email,onChange:a=>y({...x,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Password"}),(0,b.jsx)("input",{required:!0,type:"password",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.password,onChange:a=>y({...x,password:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Role"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.role,onChange:a=>y({...x,role:a.target.value}),children:[(0,b.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,b.jsx)("option",{value:"event_admin",children:"Event Admin"}),(0,b.jsx)("option",{value:"super_admin",children:"Super Admin"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone (Optional)"}),(0,b.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.phone,onChange:a=>y({...x,phone:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})}),t&&v&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit User"}),(0,b.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Full Name"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.name,onChange:a=>y({...x,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Email Address"}),(0,b.jsx)("input",{required:!0,type:"email",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.email,onChange:a=>y({...x,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"New Password (Optional)"}),(0,b.jsx)("input",{type:"password",placeholder:"Leave blank to keep same",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.password,onChange:a=>y({...x,password:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Role"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.role,onChange:a=>y({...x,role:a.target.value}),children:[(0,b.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,b.jsx)("option",{value:"event_admin",children:"Event Admin"}),(0,b.jsx)("option",{value:"super_admin",children:"Super Admin"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone (Optional)"}),(0,b.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:x.phone,onChange:a=>y({...x,phone:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})})]})}a.s(["default",()=>m],72522)}];

//# sourceMappingURL=_311e2144._.js.map