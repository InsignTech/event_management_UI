{"version":3,"sources":["../../../../app/%28admin%29/dashboard/programs/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Plus, Search, Edit, Trash2, Mic2, Tv, Users, Calendar } from 'lucide-react';\r\nimport api from '@/lib/api';\r\nimport Link from 'next/link';\r\nimport { showError, showSuccess } from '@/lib/toast';\r\nimport MultiUserSelect from '@/components/MultiUserSelect';\r\n\r\ninterface User {\r\n    _id: string;\r\n    name: string;\r\n    email: string;\r\n}\r\n\r\ninterface Program {\r\n    _id: string;\r\n    name: string;\r\n    type: 'single' | 'group';\r\n    category: 'on_stage' | 'off_stage';\r\n    venue: string;\r\n    startTime: string;\r\n    duration: number;\r\n    coordinators?: User[];\r\n    event?: { name: string, _id: string }; // In case populated\r\n}\r\n\r\nexport default function AllProgramsPage() {\r\n    const [programs, setPrograms] = useState<Program[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [defaultEventId, setDefaultEventId] = useState<string | null>(null);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [currentProgram, setCurrentProgram] = useState<Program | null>(null);\r\n\r\n    const [newProgram, setNewProgram] = useState({\r\n        name: '',\r\n        type: 'single',\r\n        category: 'on_stage',\r\n        venue: '',\r\n        startTime: '',\r\n        duration: 30,\r\n        coordinators: [] as string[]\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchDefaultEvent();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (defaultEventId) {\r\n            fetchPrograms(defaultEventId);\r\n        }\r\n    }, [defaultEventId]);\r\n\r\n    const fetchDefaultEvent = async () => {\r\n        try {\r\n            const res = await api.get('/events');\r\n            if (res.data.success && res.data.data.length > 0) {\r\n                // Pick the first event as default\r\n                setDefaultEventId(res.data.data[0]._id);\r\n            } else {\r\n                setLoading(false); // No events found\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch events\", error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchPrograms = async (eventId: string) => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await api.get(`/programs/event/${eventId}`);\r\n            if (res.data.success) {\r\n                setPrograms(res.data.data);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!defaultEventId) return;\r\n\r\n        try {\r\n            const res = await api.post('/programs', { ...newProgram, event: defaultEventId });\r\n            if (res.data.success) {\r\n                showSuccess('Program created successfully');\r\n                setIsModalOpen(false);\r\n                setNewProgram({\r\n                    name: '',\r\n                    type: 'single',\r\n                    category: 'on_stage',\r\n                    venue: '',\r\n                    startTime: '',\r\n                    duration: 30,\r\n                    coordinators: []\r\n                });\r\n                fetchPrograms(defaultEventId);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const handleUpdate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!currentProgram || !defaultEventId) return;\r\n        try {\r\n            // Map coordinators to IDs only before sending to backend\r\n            const updateData = {\r\n                ...currentProgram,\r\n                coordinators: currentProgram.coordinators?.map(u => typeof u === 'string' ? u : u._id)\r\n            };\r\n            const res = await api.put(`/programs/${currentProgram._id}`, updateData);\r\n            if (res.data.success) {\r\n                showSuccess('Program updated successfully');\r\n                setIsEditModalOpen(false);\r\n                fetchPrograms(defaultEventId);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!defaultEventId) return;\r\n        if (!confirm('Are you sure you want to delete this program? This will also remove all registrations for it.')) return;\r\n        try {\r\n            const res = await api.delete(`/programs/${id}`);\r\n            if (res.data.success) {\r\n                showSuccess('Program deleted successfully');\r\n                fetchPrograms(defaultEventId);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const filteredPrograms = programs.filter(p => \r\n        p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        p.venue.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    if (!loading && !defaultEventId) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center p-10 space-y-4 text-center\">\r\n                <Calendar className=\"h-12 w-12 text-muted-foreground\" />\r\n                <h2 className=\"text-xl font-bold\">No Events Found</h2>\r\n                <p className=\"text-muted-foreground max-w-sm\">\r\n                    You need to create an event in the 'Events' section before you can manage programs.\r\n                </p>\r\n                <Link href=\"/dashboard/events\" className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90\">\r\n                    Go to Events\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold\">Programs</h1>\r\n                    <p className=\"text-sm text-muted-foreground mt-1\">\r\n                        Managing programs for default event\r\n                    </p>\r\n                </div>\r\n                <button \r\n                    onClick={() => setIsModalOpen(true)}\r\n                    className=\"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors\"\r\n                >\r\n                    <Plus className=\"h-4 w-4\" />\r\n                    Create Program\r\n                </button>\r\n            </div>\r\n\r\n            {/* Create Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">Create New Program</h2>\r\n                        <form onSubmit={handleCreate} className=\"space-y-4\">\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">Program Name</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                    value={newProgram.name}\r\n                                    onChange={e => setNewProgram({...newProgram, name: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Type</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={newProgram.type}\r\n                                        onChange={e => setNewProgram({...newProgram, type: e.target.value as any})}\r\n                                    >\r\n                                        <option value=\"single\">Single</option>\r\n                                        <option value=\"group\">Group</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Category</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={newProgram.category}\r\n                                        onChange={e => setNewProgram({...newProgram, category: e.target.value as any})}\r\n                                    >\r\n                                        <option value=\"on_stage\">On Stage</option>\r\n                                        <option value=\"off_stage\">Off Stage</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">Venue</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                    value={newProgram.venue}\r\n                                    onChange={e => setNewProgram({...newProgram, venue: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Start Time</label>\r\n                                    <input \r\n                                        required\r\n                                        type=\"datetime-local\"\r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={newProgram.startTime}\r\n                                        onChange={e => setNewProgram({...newProgram, startTime: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Duration (mins)</label>\r\n                                    <input \r\n                                        required\r\n                                        type=\"number\"\r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={newProgram.duration}\r\n                                        onChange={e => setNewProgram({...newProgram, duration: parseInt(e.target.value)})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <MultiUserSelect \r\n                                    label=\"Program Coordinators (Optional)\"\r\n                                    value={newProgram.coordinators}\r\n                                    onChange={ids => setNewProgram({...newProgram, coordinators: ids})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex gap-3 mt-6\">\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button \r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors\"\r\n                                >\r\n                                    Create\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Edit Modal */}\r\n            {isEditModalOpen && currentProgram && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-lg p-6 shadow-2xl overflow-y-auto max-h-[90vh]\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">Edit Program</h2>\r\n                        <form onSubmit={handleUpdate} className=\"space-y-4\">\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">Program Name</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                    value={currentProgram.name}\r\n                                    onChange={e => setCurrentProgram({...currentProgram, name: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Type</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={currentProgram.type}\r\n                                        onChange={e => setCurrentProgram({...currentProgram, type: e.target.value as any})}\r\n                                    >\r\n                                        <option value=\"single\">Single</option>\r\n                                        <option value=\"group\">Group</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Category</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={currentProgram.category}\r\n                                        onChange={e => setCurrentProgram({...currentProgram, category: e.target.value as any})}\r\n                                    >\r\n                                        <option value=\"on_stage\">On Stage</option>\r\n                                        <option value=\"off_stage\">Off Stage</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">Venue</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                    value={currentProgram.venue}\r\n                                    onChange={e => setCurrentProgram({...currentProgram, venue: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Start Time</label>\r\n                                    <input \r\n                                        required\r\n                                        type=\"datetime-local\"\r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={new Date(currentProgram.startTime).toISOString().slice(0, 16)}\r\n                                        onChange={e => setCurrentProgram({...currentProgram, startTime: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Duration (mins)</label>\r\n                                    <input \r\n                                        required\r\n                                        type=\"number\"\r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                        value={currentProgram.duration}\r\n                                        onChange={e => setCurrentProgram({...currentProgram, duration: parseInt(e.target.value)})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <MultiUserSelect \r\n                                    label=\"Program Coordinators\"\r\n                                    value={currentProgram.coordinators?.map(u => typeof u === 'string' ? u : u._id) || []}\r\n                                    initialData={currentProgram.coordinators || []}\r\n                                    onChange={ids => setCurrentProgram({...currentProgram, coordinators: ids as any})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex gap-3 mt-6\">\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditModalOpen(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button \r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors\"\r\n                                >\r\n                                    Save Changes\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n            <div className=\"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md\">\r\n                <Search className=\"h-4 w-4 text-muted-foreground mr-2\" />\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Search programs...\" \r\n                    className=\"bg-transparent border-none outline-none text-sm w-full\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {loading ? (\r\n                    <p className=\"text-muted-foreground col-span-full text-center py-10\">Loading programs...</p>\r\n                ) : filteredPrograms.length === 0 ? (\r\n                    <p className=\"text-muted-foreground col-span-full text-center py-10\">No programs found for this event.</p>\r\n                ) : (\r\n                    filteredPrograms.map((program) => (\r\n                        <div key={program._id} className=\"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-colors group\">\r\n                            <div className=\"flex justify-between items-start mb-4\">\r\n                                <div className=\"p-2 bg-primary/10 rounded-lg text-primary\">\r\n                                    {program.category === 'on_stage' ? <Mic2 className=\"h-6 w-6\" /> : <Tv className=\"h-6 w-6\" />}\r\n                                </div>\r\n                                <div className=\"flex flex-col items-end gap-1\">\r\n                                    <span className={`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${\r\n                                        program.type === 'single' \r\n                                            ? 'bg-blue-500/10 text-blue-500 border-blue-500/20' \r\n                                            : 'bg-orange-500/10 text-orange-500 border-orange-500/20'\r\n                                    }`}>\r\n                                        {program.type}\r\n                                    </span>\r\n                                    <span className={`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${\r\n                                        program.category === 'on_stage' \r\n                                            ? 'bg-purple-500/10 text-purple-500 border-purple-500/20' \r\n                                            : 'bg-teal-500/10 text-teal-500 border-teal-500/20'\r\n                                    }`}>\r\n                                        {program.category.replace('_', ' ')}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <h3 className=\"text-lg font-bold mb-1 truncate\">{program.name}</h3>\r\n                            <p className=\"text-muted-foreground text-sm mb-4 truncate\">{program.venue}</p>\r\n                            \r\n                            {program.coordinators && program.coordinators.length > 0 && (\r\n                                <div className=\"mb-4\">\r\n                                    <div className=\"flex items-center gap-1.5 text-[10px] text-muted-foreground mb-1 uppercase font-bold tracking-wider\">\r\n                                        <Users className=\"h-3 w-3\" />\r\n                                        <span>Coordinators</span>\r\n                                    </div>\r\n                                    <div className=\"flex flex-wrap gap-1\">\r\n                                        {program.coordinators.map(user => (\r\n                                            <span key={user._id} className=\"text-[10px] bg-secondary px-2 py-0.5 rounded-full border border-border\">\r\n                                                {user.name}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"text-xs text-muted-foreground space-y-1 mb-4\">\r\n                                <p>Start: {new Date(program.startTime).toLocaleString()}</p>\r\n                                <p>Duration: {program.duration} mins</p>\r\n                            </div>\r\n                            <div className=\"flex gap-2 pt-4 border-t border-border\">\r\n                                <Link \r\n                                    href={`/dashboard/events/${defaultEventId}/programs/${program._id}/registrations`}\r\n                                    className=\"flex-1 py-2 text-sm font-medium bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors text-center\"\r\n                                >\r\n                                    Registrations\r\n                                </Link>\r\n                                <button \r\n                                    onClick={() => { setCurrentProgram({...program}); setIsEditModalOpen(true); }}\r\n                                    className=\"p-2 text-muted-foreground hover:text-foreground hover:bg-secondary rounded-lg transition-colors\"\r\n                                >\r\n                                    <Edit className=\"h-4 w-4\" />\r\n                                </button>\r\n                                <button \r\n                                    onClick={() => handleDelete(program._id)}\r\n                                    className=\"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-colors\"\r\n                                >\r\n                                    <Trash2 className=\"h-4 w-4\" />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}