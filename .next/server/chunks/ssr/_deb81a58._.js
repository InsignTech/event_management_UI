module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},78211,a=>{"use strict";var b=a.i(6704);a.s(["showError",0,a=>{let c,d=(c=a.response?.data,c?.errors&&Array.isArray(c.errors)&&c.errors.length>0?c.errors.map(a=>a.message||a).join(", "):c?.message?c.message:a.message||"An unexpected error occurred");b.toast.error(d,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,a=>{b.toast.success(a,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},5784,33441,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>c],5784);let d=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>d],33441)},36656,37350,a=>{"use strict";let b=(0,a.i(70106).default)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]]);a.s(["Tv",()=>b],36656);var c=a.i(87924),d=a.i(72131),e=a.i(87532),f=a.i(5784),g=a.i(33441),h=a.i(33508),i=a.i(97895),j=a.i(53250);function k({value:a,initialData:b=[],onChange:k,placeholder:l="Select coordinators...",label:m}){let[n,o]=(0,d.useState)(!1),[p,q]=(0,d.useState)(""),[r,s]=(0,d.useState)([]),[t,u]=(0,d.useState)(!1),v=(0,d.useRef)(null),[w,x]=(0,d.useState)(b);return(0,d.useEffect)(()=>{b.length>0&&0===w.length&&x(b)},[b]),(0,d.useEffect)(()=>{let a=setTimeout(async()=>{if(!p.trim())return void s([]);u(!0);try{let a=await j.default.get(`/users/search?q=${p}`);a.data.success&&s(a.data.data)}catch(a){console.error("Search failed",a)}finally{u(!1)}},300);return()=>clearTimeout(a)},[p]),(0,d.useEffect)(()=>{let a=a=>{v.current&&!v.current.contains(a.target)&&o(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,c.jsxs)("div",{className:"space-y-1 relative",ref:v,children:[m&&(0,c.jsx)("label",{className:"text-xs text-muted-foreground font-medium",children:m}),(0,c.jsxs)("div",{onClick:()=>o(!n),className:"min-h-[42px] w-full bg-secondary border border-border rounded-lg px-3 py-1.5 text-sm flex flex-wrap gap-1.5 items-center hover:border-primary/50 transition-colors cursor-pointer",children:[0===w.length&&(0,c.jsx)("span",{className:"text-muted-foreground",children:l}),w.map(b=>(0,c.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 text-primary-foreground text-[11px] font-bold px-2 py-0.5 rounded-full border border-primary/20 bg-primary/10",children:[b.name,(0,c.jsx)(h.X,{className:"h-3 w-3 hover:text-white cursor-pointer",onClick:c=>{var d;return d=b._id,void(c.stopPropagation(),k(a.filter(a=>a!==d)),x(w.filter(a=>a._id!==d)))}})]},b._id)),(0,c.jsx)("div",{className:"ml-auto",children:(0,c.jsx)(f.ChevronDown,{className:(0,i.cn)("h-4 w-4 text-muted-foreground transition-transform",n&&"rotate-180")})})]}),n&&(0,c.jsxs)("div",{className:"absolute z-[60] top-full left-0 w-full mt-1 bg-card border border-border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-64",children:[(0,c.jsx)("div",{className:"p-2 border-b border-border bg-muted/50",children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(e.Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),(0,c.jsx)("input",{autoFocus:!0,className:"w-full bg-background border border-border rounded-md pl-7 pr-2 py-1.5 text-xs outline-none focus:border-primary",placeholder:"Type to search users...",value:p,onChange:a=>q(a.target.value)})]})}),(0,c.jsx)("div",{className:"flex-1 overflow-y-auto py-1",children:t?(0,c.jsx)("div",{className:"px-3 py-4 text-xs text-muted-foreground text-center animate-pulse",children:"Searching..."}):0===r.length?(0,c.jsx)("div",{className:"px-3 py-4 text-xs text-muted-foreground italic text-center",children:p?"No users found":"Start typing to find coordinators"}):r.map(b=>(0,c.jsxs)("button",{type:"button",onClick:()=>{a.includes(b._id)?(k(a.filter(a=>a!==b._id)),x(w.filter(a=>a._id!==b._id))):(k([...a,b._id]),x([...w,b]))},className:"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 flex justify-between items-center transition-colors border-b border-border/10 last:border-0",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"font-bold",children:b.name}),(0,c.jsx)("span",{className:"text-[10px] text-muted-foreground",children:b.email})]}),a.includes(b._id)&&(0,c.jsx)(g.Check,{className:"h-4 w-4 text-primary"})]},b._id))})]})]})}a.s(["default",()=>k],37350)},28081,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(15618),f=a.i(87532),g=a.i(24569),h=a.i(81560),i=a.i(84213),j=a.i(36656),k=a.i(60246),l=a.i(53250),m=a.i(38246),n=a.i(78211),o=a.i(37350);function p(){let a=(0,d.useParams)().id,[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)({name:"",type:"single",category:"on_stage",venue:"",startTime:"",duration:30,coordinators:[]});(0,c.useEffect)(()=>{a&&D()},[a]);let D=async()=>{try{let b=await l.default.get(`/programs/event/${a}`);b.data.success&&q(b.data.data)}catch(a){(0,n.showError)(a)}finally{s(!1)}},E=async b=>{b.preventDefault();try{(await l.default.post("/programs",{...B,event:a})).data.success&&((0,n.showSuccess)("Program created successfully"),w(!1),C({name:"",type:"single",category:"on_stage",venue:"",startTime:"",duration:30,coordinators:[]}),D())}catch(a){(0,n.showError)(a)}},F=async a=>{if(a.preventDefault(),z)try{let a={...z,coordinators:z.coordinators?.map(a=>"string"==typeof a?a:a._id)};(await l.default.put(`/programs/${z._id}`,a)).data.success&&((0,n.showSuccess)("Program updated successfully"),y(!1),D())}catch(a){(0,n.showError)(a)}},G=async a=>{if(confirm("Are you sure you want to delete this program? This will also remove all registrations for it."))try{(await l.default.delete(`/programs/${a}`)).data.success&&((0,n.showSuccess)("Program deleted successfully"),D())}catch(a){(0,n.showError)(a)}},H=p.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())||a.venue.toLowerCase().includes(t.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(m.default,{href:"/dashboard/events",className:"hover:text-primary",children:"Events"}),(0,b.jsx)("span",{children:"/"}),(0,b.jsx)("span",{className:"text-foreground font-medium",children:"Programs"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Programs"}),(0,b.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4"}),"Create Program"]})]}),v&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New Program"}),(0,b.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Program Name"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.name,onChange:a=>C({...B,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Type"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.type,onChange:a=>C({...B,type:a.target.value}),children:[(0,b.jsx)("option",{value:"single",children:"Single"}),(0,b.jsx)("option",{value:"group",children:"Group"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Category"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.category,onChange:a=>C({...B,category:a.target.value}),children:[(0,b.jsx)("option",{value:"on_stage",children:"On Stage"}),(0,b.jsx)("option",{value:"off_stage",children:"Off Stage"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Venue"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.venue,onChange:a=>C({...B,venue:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,b.jsx)("input",{required:!0,type:"datetime-local",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.startTime,onChange:a=>C({...B,startTime:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Duration (mins)"}),(0,b.jsx)("input",{required:!0,type:"number",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:B.duration,onChange:a=>C({...B,duration:parseInt(a.target.value)})})]})]}),(0,b.jsx)("div",{className:"space-y-1",children:(0,b.jsx)(o.default,{label:"Program Coordinators (Optional)",value:B.coordinators,onChange:a=>C({...B,coordinators:a})})}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})}),x&&z&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-lg p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Program"}),(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Program Name"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:z.name,onChange:a=>A({...z,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Type"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:z.type,onChange:a=>A({...z,type:a.target.value}),children:[(0,b.jsx)("option",{value:"single",children:"Single"}),(0,b.jsx)("option",{value:"group",children:"Group"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Category"}),(0,b.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:z.category,onChange:a=>A({...z,category:a.target.value}),children:[(0,b.jsx)("option",{value:"on_stage",children:"On Stage"}),(0,b.jsx)("option",{value:"off_stage",children:"Off Stage"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Venue"}),(0,b.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:z.venue,onChange:a=>A({...z,venue:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,b.jsx)("input",{required:!0,type:"datetime-local",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:new Date(z.startTime).toISOString().slice(0,16),onChange:a=>A({...z,startTime:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs text-muted-foreground",children:"Duration (mins)"}),(0,b.jsx)("input",{required:!0,type:"number",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:z.duration,onChange:a=>A({...z,duration:parseInt(a.target.value)})})]})]}),(0,b.jsx)("div",{className:"space-y-1",children:(0,b.jsx)(o.default,{label:"Program Coordinators",value:z.coordinators?.map(a=>"string"==typeof a?a:a._id)||[],initialData:z.coordinators||[],onChange:a=>A({...z,coordinators:a})})}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})}),(0,b.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md",children:[(0,b.jsx)(f.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search programs...",className:"bg-transparent border-none outline-none text-sm w-full",value:t,onChange:a=>u(a.target.value)})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?(0,b.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"Loading programs..."}):0===H.length?(0,b.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"No programs found for this event."}):H.map(c=>(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-colors group",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:"on_stage"===c.category?(0,b.jsx)(i.Mic2,{className:"h-6 w-6"}):(0,b.jsx)(j.Tv,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"single"===c.type?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-orange-500/10 text-orange-500 border-orange-500/20"}`,children:c.type}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"on_stage"===c.category?"bg-purple-500/10 text-purple-500 border-purple-500/20":"bg-teal-500/10 text-teal-500 border-teal-500/20"}`,children:c.category.replace("_"," ")})]})]}),(0,b.jsx)("h3",{className:"text-lg font-bold mb-1 truncate",children:c.name}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm mb-4 truncate",children:c.venue}),c.coordinators&&c.coordinators.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground mb-1 uppercase font-bold tracking-wider",children:[(0,b.jsx)(k.Users,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:"Coordinators"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:c.coordinators.map(a=>(0,b.jsx)("span",{className:"text-[10px] bg-secondary px-2 py-0.5 rounded-full border border-border",children:a.name},a._id))})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1 mb-4",children:[(0,b.jsxs)("p",{children:["Start: ",new Date(c.startTime).toLocaleString()]}),(0,b.jsxs)("p",{children:["Duration: ",c.duration," mins"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,b.jsx)(m.default,{href:`/dashboard/events/${a}/programs/${c._id}/registrations`,className:"flex-1 py-2 text-sm font-medium bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors text-center",children:"Registrations"}),(0,b.jsx)("button",{onClick:()=>{A({...c}),y(!0)},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-secondary rounded-lg transition-colors",children:(0,b.jsx)(g.Edit,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>G(c._id),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-colors",children:(0,b.jsx)(h.Trash2,{className:"h-4 w-4"})})]})]},c._id))})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_deb81a58._.js.map