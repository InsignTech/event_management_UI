(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},44075,e=>{"use strict";var t=e.i(5766);e.s(["showError",0,e=>{let s,r=(s=e.response?.data,s?.errors&&Array.isArray(s.errors)&&s.errors.length>0?s.errors.map(e=>e.message||e).join(", "):s?.message?s.message:e.message||"An unexpected error occurred");t.toast.error(r,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,e=>{t.toast.success(e,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},64659,43531,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659);let r=(0,t.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>r],43531)},82293,e=>{"use strict";let t=(0,e.i(75254).default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCheck",()=>t],82293)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},70273,73375,69638,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>s],70273);let r=(0,t.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>r],73375);let a=(0,t.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},98676,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(55436),a=e.i(64659),l=e.i(43531),o=e.i(47163);function d({options:e,value:d,onChange:n,placeholder:i="Select...",label:c,disabled:u}){let[x,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),f=(0,s.useRef)(null);(0,s.useEffect)(()=>{u&&x&&m(!1)},[u,x]);let g=e.find(e=>e._id===d),b=e.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return(0,s.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.jsxs)("div",{className:"space-y-1 relative",ref:f,children:[c&&(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:c}),(0,t.jsxs)("button",{type:"button",disabled:u,onClick:()=>m(!x),className:(0,o.cn)("w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm flex justify-between items-center transition-colors",u?"opacity-50 cursor-not-allowed":"hover:border-primary/50"),children:[(0,t.jsx)("span",{className:(0,o.cn)(!g&&"text-muted-foreground"),children:g?g.name:i}),(0,t.jsx)(a.ChevronDown,{className:(0,o.cn)("h-4 w-4 text-muted-foreground transition-transform",x&&"rotate-180")})]}),x&&(0,t.jsxs)("div",{className:"absolute z-50 top-full left-0 w-full mt-1 bg-card border border-border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-60",children:[(0,t.jsx)("div",{className:"p-2 border-b border-border bg-muted/50",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),(0,t.jsx)("input",{autoFocus:!0,className:"w-full bg-background border border-border rounded-md pl-7 pr-2 py-1 text-xs outline-none focus:border-primary",placeholder:"Search...",value:h,onChange:e=>p(e.target.value)})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto py-1",children:0===b.length?(0,t.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground italic text-center",children:"No results found"}):b.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{n(e._id),m(!1),p("")},className:"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 flex justify-between items-center transition-colors",children:[e.name,d===e._id&&(0,t.jsx)(l.Check,{className:"h-4 w-4 text-primary"})]},e._id))})]})]})}e.s(["default",()=>d])},51816,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(7233),l=e.i(55436),o=e.i(27612),d=e.i(82293),n=e.i(61911),i=e.i(64030),c=e.i(70273),u=e.i(73375),x=e.i(63059),m=e.i(70756),h=e.i(69638);let p=(0,e.i(75254).default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var f=e.i(88511),g=e.i(54858),b=e.i(22016),y=e.i(98676),j=e.i(44075);function N(){let{id:e,programId:N}=(0,r.useParams)(),[v,w]=(0,s.useState)([]),[k,C]=(0,s.useState)(!0),[S,R]=(0,s.useState)(""),[_,M]=(0,s.useState)(null),[E,L]=(0,s.useState)(1),[P,$]=(0,s.useState)(!1),[z,T]=(0,s.useState)(null),[A,q]=(0,s.useState)(!1),[O,U]=(0,s.useState)(!1),[D,F]=(0,s.useState)(!1),[B,H]=(0,s.useState)(null),[V,G]=(0,s.useState)(""),[K,I]=(0,s.useState)(""),[Y,J]=(0,s.useState)(!1),[Q,W]=(0,s.useState)([]),[X,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)([]),[es,er]=(0,s.useState)([]),[ea,el]=(0,s.useState)(""),[eo,ed]=(0,s.useState)(!1);(0,s.useEffect)(()=>{N&&(ec(E),en())},[N,E]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{ea.length>=2||0===ea.length&&X?ei():!X&&ea.length<2&&et([])},500);return()=>clearTimeout(e)},[ea,X]);let en=async()=>{try{let e=await g.default.get("/colleges");e.data.success&&W(e.data.data)}catch(e){(0,j.showError)(e)}},ei=async()=>{if(!X&&!ea)return void et([]);ed(!0);try{let e=await g.default.get("/students",{params:{college:X,search:ea}});e.data.success&&et(e.data.data)}catch(e){(0,j.showError)(e)}finally{ed(!1)}},ec=async(e=1)=>{try{C(!0);let t=await g.default.get(`/registrations/program/${N}?page=${e}&limit=50`);t.data.success&&(w(t.data.registrations||[]),M(t.data.pagination||null),$(t.data.isResultPublished||!1),T(t.data.program||null))}catch(e){(0,j.showError)(e)}finally{C(!1)}},eu=async()=>{if(0!==es.length)try{B?(await g.default.put(`/registrations/${B._id}`,{participants:es})).data.success&&((0,j.showSuccess)("Registration updated successfully"),ex(),ec()):(await g.default.post("/registrations",{program:N,participants:es})).data.success&&((0,j.showSuccess)("Registration successful"),ex(),ec())}catch(e){(0,j.showError)(e)}},ex=()=>{q(!1),H(null),er([]),Z(""),el("")},em=async e=>{if(confirm("Are you sure you want to delete this registration?"))try{(await g.default.delete(`/registrations/${e}`)).data.success&&((0,j.showSuccess)("Registration deleted successfully"),ec())}catch(e){(0,j.showError)(e)}},eh=async(e,t)=>{try{(await g.default.patch(`/registrations/${e}/status`,{status:t})).data.success&&((0,j.showSuccess)(`Status updated to ${t}`),ec())}catch(e){(0,j.showError)(e)}},ep=async e=>{if(e.preventDefault(),B&&K)try{(await g.default.post(`/registrations/${B._id}/cancel`,{reason:K})).data.success&&((0,j.showSuccess)("Registration cancelled"),F(!1),I(""),H(null),ec())}catch(e){(0,j.showError)(e)}},ef=async e=>{if(e.preventDefault(),B&&V){J(!0);try{(await g.default.post("/scores/submit",{programId:N,registrationId:B._id,criteria:{Mark:parseFloat(V)}})).data.success&&((0,j.showSuccess)("Score submitted successfully"),U(!1),G(""),H(null),ec())}catch(e){(0,j.showError)(e)}finally{J(!1)}}},eg=v.filter(e=>e.chestNumber.toLowerCase().includes(S.toLowerCase())||e.participants.some(e=>e.registrationCode.toLowerCase().includes(S.toLowerCase())||e.name?.toLowerCase().includes(S.toLowerCase())));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(b.default,{href:"/dashboard/events",className:"hover:text-primary",children:"Events"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)(b.default,{href:`/dashboard/events/${e}/programs`,className:"hover:text-primary",children:"Programs"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)("span",{className:"text-foreground font-medium",children:"Registrations"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Registrations"}),z&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2 font-sans",children:["Program: ",(0,t.jsx)("span",{className:"text-primary font-bold px-2 py-0.5 bg-primary/10 rounded",children:z.name})]})]}),(0,t.jsxs)("button",{disabled:P,title:P?"Registration Closed (Published)":"New Registration",onClick:()=>q(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[P?(0,t.jsx)(m.Lock,{className:"h-4 w-4"}):(0,t.jsx)(a.Plus,{className:"h-4 w-4"}),"New Registration"]})]}),A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground",children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl flex flex-col max-h-[90vh]",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:B?"Edit Registration":"Register for Program"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground block mb-2",children:"Selected Participants"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 min-h-[40px] p-2 bg-secondary rounded-lg border border-border",children:[0===es.length&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground italic",children:"No students selected"}),es.map(e=>{let s=ee.find(t=>t._id===e)||v.flatMap(e=>e.participants).find(t=>t._id===e);return(0,t.jsxs)("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded-md text-xs flex items-center gap-1",children:[s?.name||s?.registrationCode,(0,t.jsx)("button",{onClick:()=>er(es.filter(t=>t!==e)),className:"hover:text-foreground",children:"×"})]},e)})]})]}),(0,t.jsxs)("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y.default,{label:"Filter by College",options:Q,value:X,onChange:e=>{es.length>0||Z(e)},placeholder:"Select College...",disabled:es.length>0}),es.length>0&&(0,t.jsxs)("p",{className:"text-[10px] text-primary mt-1 flex items-center gap-1 font-bold",children:[(0,t.jsx)(m.Lock,{className:"h-3 w-3"})," College locked (Group members must be from same college)"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg pl-9 pr-3 py-2 text-sm outline-none focus:border-primary",placeholder:"Search by Name or Reg No...",value:ea,onChange:e=>el(e.target.value)})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto border border-border rounded-lg divide-y divide-border min-h-[200px]",children:eo?(0,t.jsx)("p",{className:"p-4 text-center text-xs text-muted-foreground",children:"Searching..."}):0===ee.length?(0,t.jsx)("p",{className:"p-4 text-center text-xs text-muted-foreground italic truncate",children:X?"No students found":"Select a college first"}):ee.filter(e=>!es.includes(e._id)).filter(e=>{if(0===es.length)return!0;let t=v.flatMap(e=>e.participants).find(e=>e._id===es[0])||ee.find(e=>e._id===es[0]);return e.college._id===t?.college._id}).map(e=>(0,t.jsxs)("button",{onClick:()=>{0===es.length&&Z(e.college._id),er([...es,e._id])},className:"w-full text-left px-4 py-3 hover:bg-muted text-sm transition-colors flex justify-between items-center group",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:e.name||"Unknown student"}),(0,t.jsxs)("p",{className:"text-[10px] text-muted-foreground truncate",children:[e.registrationCode," • ",e.college.name]})]}),(0,t.jsx)(a.Plus,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]},e._id))})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:ex,className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:eu,disabled:0===es.length,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:B?"Save Changes":"Register"})]})]})}),O&&B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground",children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[(0,t.jsx)(i.Trophy,{className:"h-5 w-5 text-yellow-500"}),"Submit Score"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mb-6",children:["Enter marks for chest number ",(0,t.jsx)("span",{className:"font-bold text-primary",children:B.chestNumber})]}),(0,t.jsxs)("form",{onSubmit:ef,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:"Marks / Points"}),(0,t.jsx)("input",{type:"number",step:"0.01",autoFocus:!0,required:!0,className:"w-full bg-secondary border border-border rounded-lg px-4 py-3 text-lg font-bold outline-none focus:border-primary text-center",placeholder:"0.00",value:V,onChange:e=>G(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,t.jsx)("button",{type:"button",onClick:()=>U(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:Y,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Y?"Submitting...":"Save Score"})]})]})]})}),D&&B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground",children:(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-sm p-6 shadow-2xl",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-2 flex items-center gap-2 text-destructive",children:[(0,t.jsx)(p,{className:"h-5 w-5"}),"Cancel Registration"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mb-6",children:["Reason for cancellation of ",(0,t.jsx)("span",{className:"font-bold",children:B.chestNumber})]}),(0,t.jsxs)("form",{onSubmit:ep,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground",children:"Reason"}),(0,t.jsx)("textarea",{required:!0,rows:3,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary resize-none",placeholder:"e.g. Student absent, Disqualified...",value:K,onChange:e=>I(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>F(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Back"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-destructive text-destructive-foreground rounded-lg text-sm font-bold hover:bg-destructive/90 transition-colors",children:"Confirm Cancel"})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md",children:[(0,t.jsx)(l.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by Chest No, Name or Reg No...",className:"bg-transparent border-none outline-none text-sm w-full",value:S,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl overflow-hidden font-sans",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-muted/50 text-muted-foreground uppercase text-xs font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Chest Number"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Participants"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Score"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:k?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-muted-foreground",children:"Loading registrations..."})}):0===eg.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-muted-foreground font-medium",children:"No registrations found."})}):eg.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-muted/30 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"font-mono bg-primary/10 text-primary px-3 py-1 rounded-md text-base font-black",children:e.chestNumber})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[e.participants.map(e=>(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 mb-1 last:mb-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.UserCheck,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.name||"N/A"})]}),(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground ml-5 font-medium",children:[e.registrationCode," • ",e.college.name]})]},e._id)),e.participants.length>1&&(0,t.jsxs)("span",{className:"text-[10px] text-purple-400 font-bold flex items-center gap-1 mt-1 bg-purple-400/10 w-fit px-1.5 py-0.5 rounded",children:[(0,t.jsx)(n.Users,{className:"h-3 w-3"})," GROUP ENTRY"]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 capitalize",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black border tracking-wider uppercase ${"participated"===e.status?"bg-green-500/10 text-green-500 border-green-500/20":"confirmed"===e.status?"bg-blue-500/10 text-blue-500 border-blue-500/20":"cancelled"===e.status?"bg-red-500/10 text-red-500 border-red-500/20":"bg-muted text-muted-foreground border-border"}`,children:e.status.replace("_"," ")}),e.cancellationReason&&(0,t.jsx)("span",{className:"text-[10px] text-destructive italic max-w-[150px] truncate",title:e.cancellationReason,children:e.cancellationReason})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`p-1.5 rounded-lg ${e.pointsObtained>0?"bg-yellow-500/10 text-yellow-500":"bg-muted text-muted-foreground"}`,children:(0,t.jsx)(c.Star,{className:`h-4 w-4 ${e.pointsObtained>0?"fill-yellow-500":""}`})}),(0,t.jsx)("span",{className:`text-lg font-black ${e.pointsObtained>0?"text-foreground":"text-muted-foreground"}`,children:e.pointsObtained||"0.00"})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["open"===e.status&&(0,t.jsx)("button",{title:"Confirm Registration",onClick:()=>eh(e._id,"confirmed"),className:"p-2 hover:bg-blue-500/10 rounded-lg text-muted-foreground hover:text-blue-500 transition-all",children:(0,t.jsx)(h.CheckCircle,{className:"h-4 w-4"})}),"confirmed"===e.status&&(0,t.jsx)("button",{title:"Mark as Participated",onClick:()=>eh(e._id,"participated"),className:"p-2 hover:bg-green-500/10 rounded-lg text-muted-foreground hover:text-green-500 transition-all",children:(0,t.jsx)(i.Trophy,{className:"h-4 w-4"})}),"cancelled"!==e.status&&(0,t.jsx)("button",{title:"Cancel Registration",onClick:()=>{H(e),F(!0)},className:"p-2 hover:bg-red-500/10 rounded-lg text-muted-foreground hover:text-red-500 transition-all",children:(0,t.jsx)(p,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"h-4 w-px bg-border mx-1"}),(0,t.jsx)("button",{title:P?"Score Locked (Published)":"Submit Score",onClick:()=>{P||(H(e),G(e.pointsObtained?.toString()||""),U(!0))},className:`p-2 rounded-lg transition-all border border-transparent ${P?"text-muted-foreground/30 cursor-not-allowed":"hover:bg-yellow-500/10 text-muted-foreground hover:text-yellow-500 hover:border-yellow-500/20"}`,children:P?(0,t.jsx)(m.Lock,{className:"h-4 w-4"}):(0,t.jsx)(c.Star,{className:"h-4 w-4"})}),(0,t.jsx)("button",{title:"Edit Registration",onClick:()=>{H(e),er(e.participants.map(e=>e._id)),q(!0)},className:"p-2 hover:bg-secondary rounded-lg text-muted-foreground hover:text-foreground transition-all",children:(0,t.jsx)(f.Edit,{className:"h-4 w-4"})}),(0,t.jsx)("button",{title:"Delete Permanently",onClick:()=>em(e._id),className:"p-2 hover:bg-destructive/10 rounded-lg text-muted-foreground hover:text-destructive transition-all border border-transparent hover:border-destructive/20",children:(0,t.jsx)(o.Trash2,{className:"h-4 w-4"})})]})})]},e._id))})]})}),_&&_.pages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-muted/20 border-t border-border",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Showing ",(E-1)*_.limit+1," to ",Math.min(E*_.limit,_.total)," of ",_.total," results"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>L(e=>Math.max(1,e-1)),disabled:1===E,className:"p-1 rounded hover:bg-muted disabled:opacity-50 transition-colors",children:(0,t.jsx)(u.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-xs font-medium",children:["Page ",E," of ",_.pages]}),(0,t.jsx)("button",{onClick:()=>L(e=>Math.min(_.pages,e+1)),disabled:E===_.pages,className:"p-1 rounded hover:bg-muted disabled:opacity-50 transition-colors",children:(0,t.jsx)(x.ChevronRight,{className:"h-4 w-4"})})]})]})]})]})}e.s(["default",()=>N],51816)}]);