(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let r=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],55436)},44075,e=>{"use strict";var r=e.i(5766);e.s(["showError",0,e=>{let s,t=(s=e.response?.data,s?.errors&&Array.isArray(s.errors)&&s.errors.length>0?s.errors.map(e=>e.message||e).join(", "):s?.message?s.message:e.message||"An unexpected error occurred");r.toast.error(t,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,e=>{r.toast.success(e,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},88511,e=>{"use strict";let r=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],88511)},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},64659,43531,e=>{"use strict";var r=e.i(75254);let s=(0,r.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659);let t=(0,r.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},53013,62861,e=>{"use strict";let r=(0,e.i(75254).default)("tv",[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]]);e.s(["Tv",()=>r],53013);var s=e.i(43476),t=e.i(71645),a=e.i(55436),o=e.i(64659),l=e.i(43531),d=e.i(37727),n=e.i(47163),i=e.i(54858);function c({value:e,initialData:r=[],onChange:c,placeholder:u="Select coordinators...",label:m}){let[x,p]=(0,t.useState)(!1),[g,h]=(0,t.useState)(""),[b,f]=(0,t.useState)([]),[y,v]=(0,t.useState)(!1),j=(0,t.useRef)(null),[N,w]=(0,t.useState)(r);return(0,t.useEffect)(()=>{r.length>0&&0===N.length&&w(r)},[r]),(0,t.useEffect)(()=>{let e=setTimeout(async()=>{if(!g.trim())return void f([]);v(!0);try{let e=await i.default.get(`/users/search?q=${g}`);e.data.success&&f(e.data.data)}catch(e){console.error("Search failed",e)}finally{v(!1)}},300);return()=>clearTimeout(e)},[g]),(0,t.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{className:"space-y-1 relative",ref:j,children:[m&&(0,s.jsx)("label",{className:"text-xs text-muted-foreground font-medium",children:m}),(0,s.jsxs)("div",{onClick:()=>p(!x),className:"min-h-[42px] w-full bg-secondary border border-border rounded-lg px-3 py-1.5 text-sm flex flex-wrap gap-1.5 items-center hover:border-primary/50 transition-colors cursor-pointer",children:[0===N.length&&(0,s.jsx)("span",{className:"text-muted-foreground",children:u}),N.map(r=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 bg-primary/20 text-primary-foreground text-[11px] font-bold px-2 py-0.5 rounded-full border border-primary/20 bg-primary/10",children:[r.name,(0,s.jsx)(d.X,{className:"h-3 w-3 hover:text-white cursor-pointer",onClick:s=>{var t;return t=r._id,void(s.stopPropagation(),c(e.filter(e=>e!==t)),w(N.filter(e=>e._id!==t)))}})]},r._id)),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(o.ChevronDown,{className:(0,n.cn)("h-4 w-4 text-muted-foreground transition-transform",x&&"rotate-180")})})]}),x&&(0,s.jsxs)("div",{className:"absolute z-[60] top-full left-0 w-full mt-1 bg-card border border-border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-64",children:[(0,s.jsx)("div",{className:"p-2 border-b border-border bg-muted/50",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),(0,s.jsx)("input",{autoFocus:!0,className:"w-full bg-background border border-border rounded-md pl-7 pr-2 py-1.5 text-xs outline-none focus:border-primary",placeholder:"Type to search users...",value:g,onChange:e=>h(e.target.value)})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto py-1",children:y?(0,s.jsx)("div",{className:"px-3 py-4 text-xs text-muted-foreground text-center animate-pulse",children:"Searching..."}):0===b.length?(0,s.jsx)("div",{className:"px-3 py-4 text-xs text-muted-foreground italic text-center",children:g?"No users found":"Start typing to find coordinators"}):b.map(r=>(0,s.jsxs)("button",{type:"button",onClick:()=>{e.includes(r._id)?(c(e.filter(e=>e!==r._id)),w(N.filter(e=>e._id!==r._id))):(c([...e,r._id]),w([...N,r]))},className:"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 flex justify-between items-center transition-colors border-b border-border/10 last:border-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-bold",children:r.name}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground",children:r.email})]}),e.includes(r._id)&&(0,s.jsx)(l.Check,{className:"h-4 w-4 text-primary"})]},r._id))})]})]})}e.s(["default",()=>c],62861)},60175,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),a=e.i(7233),o=e.i(55436),l=e.i(88511),d=e.i(27612),n=e.i(46514),i=e.i(53013),c=e.i(61911),u=e.i(54858),m=e.i(22016),x=e.i(44075),p=e.i(62861);function g(){let e=(0,t.useParams)().id,[g,h]=(0,s.useState)([]),[b,f]=(0,s.useState)(!0),[y,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)(!1),[S,k]=(0,s.useState)(null),[_,T]=(0,s.useState)({name:"",type:"single",category:"on_stage",venue:"",startTime:"",duration:30,coordinators:[]});(0,s.useEffect)(()=>{e&&P()},[e]);let P=async()=>{try{let r=await u.default.get(`/programs/event/${e}`);r.data.success&&h(r.data.data)}catch(e){(0,x.showError)(e)}finally{f(!1)}},E=async r=>{r.preventDefault();try{(await u.default.post("/programs",{..._,event:e})).data.success&&((0,x.showSuccess)("Program created successfully"),N(!1),T({name:"",type:"single",category:"on_stage",venue:"",startTime:"",duration:30,coordinators:[]}),P())}catch(e){(0,x.showError)(e)}},q=async e=>{if(e.preventDefault(),S)try{let e={...S,coordinators:S.coordinators?.map(e=>"string"==typeof e?e:e._id)};(await u.default.put(`/programs/${S._id}`,e)).data.success&&((0,x.showSuccess)("Program updated successfully"),C(!1),P())}catch(e){(0,x.showError)(e)}},M=async e=>{if(confirm("Are you sure you want to delete this program? This will also remove all registrations for it."))try{(await u.default.delete(`/programs/${e}`)).data.success&&((0,x.showSuccess)("Program deleted successfully"),P())}catch(e){(0,x.showError)(e)}},D=g.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.venue.toLowerCase().includes(y.toLowerCase()));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(m.default,{href:"/dashboard/events",className:"hover:text-primary",children:"Events"}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{className:"text-foreground font-medium",children:"Programs"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Programs"}),(0,r.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors",children:[(0,r.jsx)(a.Plus,{className:"h-4 w-4"}),"Create Program"]})]}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New Program"}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Program Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.name,onChange:e=>T({..._,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Type"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.type,onChange:e=>T({..._,type:e.target.value}),children:[(0,r.jsx)("option",{value:"single",children:"Single"}),(0,r.jsx)("option",{value:"group",children:"Group"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Category"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.category,onChange:e=>T({..._,category:e.target.value}),children:[(0,r.jsx)("option",{value:"on_stage",children:"On Stage"}),(0,r.jsx)("option",{value:"off_stage",children:"Off Stage"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Venue"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.venue,onChange:e=>T({..._,venue:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,r.jsx)("input",{required:!0,type:"datetime-local",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.startTime,onChange:e=>T({..._,startTime:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Duration (mins)"}),(0,r.jsx)("input",{required:!0,type:"number",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:_.duration,onChange:e=>T({..._,duration:parseInt(e.target.value)})})]})]}),(0,r.jsx)("div",{className:"space-y-1",children:(0,r.jsx)(p.default,{label:"Program Coordinators (Optional)",value:_.coordinators,onChange:e=>T({..._,coordinators:e})})}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})}),w&&S&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-lg p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Program"}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Program Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.name,onChange:e=>k({...S,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Type"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.type,onChange:e=>k({...S,type:e.target.value}),children:[(0,r.jsx)("option",{value:"single",children:"Single"}),(0,r.jsx)("option",{value:"group",children:"Group"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Category"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.category,onChange:e=>k({...S,category:e.target.value}),children:[(0,r.jsx)("option",{value:"on_stage",children:"On Stage"}),(0,r.jsx)("option",{value:"off_stage",children:"Off Stage"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Venue"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.venue,onChange:e=>k({...S,venue:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,r.jsx)("input",{required:!0,type:"datetime-local",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:new Date(S.startTime).toISOString().slice(0,16),onChange:e=>k({...S,startTime:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Duration (mins)"}),(0,r.jsx)("input",{required:!0,type:"number",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.duration,onChange:e=>k({...S,duration:parseInt(e.target.value)})})]})]}),(0,r.jsx)("div",{className:"space-y-1",children:(0,r.jsx)(p.default,{label:"Program Coordinators",value:S.coordinators?.map(e=>"string"==typeof e?e:e._id)||[],initialData:S.coordinators||[],onChange:e=>k({...S,coordinators:e})})}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md",children:[(0,r.jsx)(o.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,r.jsx)("input",{type:"text",placeholder:"Search programs...",className:"bg-transparent border-none outline-none text-sm w-full",value:y,onChange:e=>v(e.target.value)})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b?(0,r.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"Loading programs..."}):0===D.length?(0,r.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"No programs found for this event."}):D.map(s=>(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:"on_stage"===s.category?(0,r.jsx)(n.Mic2,{className:"h-6 w-6"}):(0,r.jsx)(i.Tv,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"single"===s.type?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-orange-500/10 text-orange-500 border-orange-500/20"}`,children:s.type}),(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"on_stage"===s.category?"bg-purple-500/10 text-purple-500 border-purple-500/20":"bg-teal-500/10 text-teal-500 border-teal-500/20"}`,children:s.category.replace("_"," ")})]})]}),(0,r.jsx)("h3",{className:"text-lg font-bold mb-1 truncate",children:s.name}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm mb-4 truncate",children:s.venue}),s.coordinators&&s.coordinators.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground mb-1 uppercase font-bold tracking-wider",children:[(0,r.jsx)(c.Users,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:"Coordinators"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:s.coordinators.map(e=>(0,r.jsx)("span",{className:"text-[10px] bg-secondary px-2 py-0.5 rounded-full border border-border",children:e.name},e._id))})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1 mb-4",children:[(0,r.jsxs)("p",{children:["Start: ",new Date(s.startTime).toLocaleString()]}),(0,r.jsxs)("p",{children:["Duration: ",s.duration," mins"]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,r.jsx)(m.default,{href:`/dashboard/events/${e}/programs/${s._id}/registrations`,className:"flex-1 py-2 text-sm font-medium bg-primary/10 text-primary hover:bg-primary/20 rounded-lg transition-colors text-center",children:"Registrations"}),(0,r.jsx)("button",{onClick:()=>{k({...s}),C(!0)},className:"p-2 text-muted-foreground hover:text-foreground hover:bg-secondary rounded-lg transition-colors",children:(0,r.jsx)(l.Edit,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>M(s._id),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-colors",children:(0,r.jsx)(d.Trash2,{className:"h-4 w-4"})})]})]},s._id))})]})}e.s(["default",()=>g])}]);