(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let r=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],55436)},44075,e=>{"use strict";var r=e.i(5766);e.s(["showError",0,e=>{let s,t=(s=e.response?.data,s?.errors&&Array.isArray(s.errors)&&s.errors.length>0?s.errors.map(e=>e.message||e).join(", "):s?.message?s.message:e.message||"An unexpected error occurred");r.toast.error(t,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,e=>{r.toast.success(e,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},88511,e=>{"use strict";let r=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],88511)},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},64659,43531,e=>{"use strict";var r=e.i(75254);let s=(0,r.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659);let t=(0,r.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},98676,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(55436),a=e.i(64659),l=e.i(43531),o=e.i(47163);function d({options:e,value:d,onChange:n,placeholder:c="Select...",label:i,disabled:u}){let[x,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),g=(0,s.useRef)(null);(0,s.useEffect)(()=>{u&&x&&m(!1)},[u,x]);let b=e.find(e=>e._id===d),f=e.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return(0,s.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.jsxs)("div",{className:"space-y-1 relative",ref:g,children:[i&&(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:i}),(0,r.jsxs)("button",{type:"button",disabled:u,onClick:()=>m(!x),className:(0,o.cn)("w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm flex justify-between items-center transition-colors",u?"opacity-50 cursor-not-allowed":"hover:border-primary/50"),children:[(0,r.jsx)("span",{className:(0,o.cn)(!b&&"text-muted-foreground"),children:b?b.name:c}),(0,r.jsx)(a.ChevronDown,{className:(0,o.cn)("h-4 w-4 text-muted-foreground transition-transform",x&&"rotate-180")})]}),x&&(0,r.jsxs)("div",{className:"absolute z-50 top-full left-0 w-full mt-1 bg-card border border-border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-60",children:[(0,r.jsx)("div",{className:"p-2 border-b border-border bg-muted/50",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(t.Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),(0,r.jsx)("input",{autoFocus:!0,className:"w-full bg-background border border-border rounded-md pl-7 pr-2 py-1 text-xs outline-none focus:border-primary",placeholder:"Search...",value:h,onChange:e=>p(e.target.value)})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto py-1",children:0===f.length?(0,r.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground italic text-center",children:"No results found"}):f.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{n(e._id),m(!1),p("")},className:"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 flex justify-between items-center transition-colors",children:[e.name,d===e._id&&(0,r.jsx)(l.Check,{className:"h-4 w-4 text-primary"})]},e._id))})]})]})}e.s(["default",()=>d])},93927,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(7233),a=e.i(55436),l=e.i(88511),o=e.i(27612),d=e.i(54858),n=e.i(98676),c=e.i(44075);function i(){let[e,i]=(0,s.useState)([]),[u,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(1),[y,j]=(0,s.useState)({total:0,page:1,limit:20,pages:1}),[v,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)(!1),[S,k]=(0,s.useState)(null),[E,M]=(0,s.useState)([]),[Y,A]=(0,s.useState)({name:"",phone:"",course:"",year:"",gender:"male",college:""});(0,s.useEffect)(()=>{R()},[]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{_(1)},500);return()=>clearTimeout(e)},[m,p]),(0,s.useEffect)(()=>{_(b)},[b]);let R=async()=>{try{let e=await d.default.get("/colleges");e.data.success&&M(e.data.data)}catch(e){(0,c.showError)(e)}},_=async(e=1)=>{x(!0);try{let r=await d.default.get("/students",{params:{college:p||void 0,search:m||void 0,page:e,limit:20}});r.data.success&&(i(r.data.data),j(r.data.pagination))}catch(e){(0,c.showError)(e)}finally{x(!1)}},P=async e=>{e.preventDefault();try{(await d.default.post("/students",Y)).data.success&&((0,c.showSuccess)("Student registered successfully"),N(!1),A({name:"",phone:"",course:"",year:"1",gender:"male",college:""}),_())}catch(e){(0,c.showError)(e)}},O=async e=>{if(e.preventDefault(),S)try{let e={...S,college:"object"==typeof S.college?S.college._id:S.college};(await d.default.put(`/students/${S._id}`,e)).data.success&&((0,c.showSuccess)("Student updated successfully"),C(!1),_())}catch(e){(0,c.showError)(e)}},T=async e=>{if(confirm("Are you sure you want to delete this student?"))try{(await d.default.delete(`/students/${e}`)).data.success&&((0,c.showSuccess)("Student deleted successfully"),_())}catch(e){(0,c.showError)(e)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Students"}),(0,r.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors",children:[(0,r.jsx)(t.Plus,{className:"h-4 w-4"}),"Register Student"]})]}),v&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Register New Student"}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Student Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:Y.name,onChange:e=>A({...Y,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone Number"}),(0,r.jsx)("input",{required:!0,maxLength:10,type:"tel",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:Y.phone,onChange:e=>{let r=e.target.value.replace(/\D/g,"");r.length<=10&&A({...Y,phone:r})}})]}),(0,r.jsx)(n.default,{label:"College",options:E,value:Y.college,onChange:e=>A({...Y,college:e}),placeholder:"Select College"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Course (Optional)"}),(0,r.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",placeholder:"e.g. BCA, B.Sc Computer Science",value:Y.course,onChange:e=>A({...Y,course:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Year (Optional)"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:Y.year,onChange:e=>A({...Y,year:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select Year"}),(0,r.jsx)("option",{value:"1",children:"1st Year"}),(0,r.jsx)("option",{value:"2",children:"2nd Year"}),(0,r.jsx)("option",{value:"3",children:"3rd Year"}),(0,r.jsx)("option",{value:"4",children:"4th Year"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Gender"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:Y.gender,onChange:e=>A({...Y,gender:e.target.value}),children:[(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Register"})]})]})]})}),w&&S&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Student"}),(0,r.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Registration Code"}),(0,r.jsx)("input",{disabled:!0,className:"w-full bg-secondary/50 border border-border rounded-lg px-3 py-2 text-sm outline-none cursor-not-allowed",value:S.registrationCode||""})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Student Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.name||"",onChange:e=>k({...S,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone Number"}),(0,r.jsx)("input",{required:!0,maxLength:10,type:"tel",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.phone,onChange:e=>{let r=e.target.value.replace(/\D/g,"");r.length<=10&&k({...S,phone:r})}})]}),(0,r.jsx)(n.default,{label:"College",options:E,value:"object"==typeof S.college?S.college._id:S.college,onChange:e=>k({...S,college:e}),placeholder:"Select College"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Course (Optional)"}),(0,r.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.course,onChange:e=>k({...S,course:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Year (Optional)"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.year||"",onChange:e=>k({...S,year:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select Year"}),(0,r.jsx)("option",{value:"1",children:"1st Year"}),(0,r.jsx)("option",{value:"2",children:"2nd Year"}),(0,r.jsx)("option",{value:"3",children:"3rd Year"}),(0,r.jsx)("option",{value:"4",children:"4th Year"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Gender"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:S.gender,onChange:e=>k({...S,gender:e.target.value}),children:[(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(n.default,{label:"Filter by College",options:[{_id:"",name:"All Colleges"},...E],value:p,onChange:e=>{g(e),f(1)},placeholder:"Select College"})}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg w-full h-[42px]",children:[(0,r.jsx)(a.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by ID, Name, Phone...",className:"bg-transparent border-none outline-none text-sm w-full",value:m,onChange:e=>{h(e.target.value),f(1)}})]})})]}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,r.jsx)("thead",{className:"bg-muted/50 text-muted-foreground uppercase text-xs font-bold",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4",children:"Student Name"}),(0,r.jsx)("th",{className:"px-6 py-4",children:"Reg Code"}),(0,r.jsx)("th",{className:"px-6 py-4",children:"Phone"}),(0,r.jsx)("th",{className:"px-6 py-4",children:"Course & Year"}),(0,r.jsx)("th",{className:"px-6 py-4",children:"College"}),(0,r.jsx)("th",{className:"px-6 py-4",children:"Gender"}),(0,r.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-border",children:u?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-muted-foreground",children:"Loading students..."})}):0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-muted-foreground",children:"No students found."})}):e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-muted/30 transition-colors group",children:[(0,r.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name||(0,r.jsx)("span",{className:"text-muted-foreground italic text-xs",children:"N/A"})}),(0,r.jsx)("td",{className:"px-6 py-4 font-mono text-xs",children:e.registrationCode}),(0,r.jsx)("td",{className:"px-6 py-4 font-mono text-xs",children:e.phone}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{children:e.course}),e.year&&(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.year," Year"]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-muted-foreground",children:e.college?.name}),(0,r.jsx)("td",{className:"px-6 py-4 capitalize",children:e.gender}),(0,r.jsxs)("td",{className:"px-6 py-4 text-right space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{k({...e}),C(!0)},className:"p-2 hover:bg-secondary rounded-lg text-muted-foreground hover:text-foreground transition-all",children:(0,r.jsx)(l.Edit,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>T(e._id),className:"p-2 hover:bg-destructive/10 rounded-lg text-muted-foreground hover:text-destructive transition-all",children:(0,r.jsx)(o.Trash2,{className:"h-4 w-4"})})]})]},e._id))})]})})}),y.pages>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Showing ",(y.page-1)*y.limit+1," to ",Math.min(y.page*y.limit,y.total)," of ",y.total," students"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{disabled:1===y.page,onClick:()=>f(e=>e-1),className:"px-3 py-1.5 text-xs font-bold border border-border rounded-lg hover:bg-muted disabled:opacity-50 transition-colors",children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,y.pages)},(e,s)=>{let t;return t=y.pages<=5||y.page<=3?s+1:y.page>=y.pages-2?y.pages-4+s:y.page-2+s,(0,r.jsx)("button",{onClick:()=>f(t),className:`w-8 h-8 text-xs font-bold rounded-lg transition-colors ${y.page===t?"bg-primary text-primary-foreground":"border border-border hover:bg-muted"}`,children:t},t)})}),(0,r.jsx)("button",{disabled:y.page===y.pages,onClick:()=>f(e=>e+1),className:"px-3 py-1.5 text-xs font-bold border border-border rounded-lg hover:bg-muted disabled:opacity-50 transition-colors",children:"Next"})]})]})]})}e.s(["default",()=>i])}]);