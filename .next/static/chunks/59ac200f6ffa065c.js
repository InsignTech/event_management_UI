(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let r=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>r],55436)},44075,e=>{"use strict";var r=e.i(5766);e.s(["showError",0,e=>{let s,a=(s=e.response?.data,s?.errors&&Array.isArray(s.errors)&&s.errors.length>0?s.errors.map(e=>e.message||e).join(", "):s?.message?s.message:e.message||"An unexpected error occurred");r.toast.error(a,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})},"showSuccess",0,e=>{r.toast.success(e,{style:{borderRadius:"10px",background:"#333",color:"#fff"}})}])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},88511,e=>{"use strict";let r=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>r],88511)},27612,e=>{"use strict";let r=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],27612)},63488,e=>{"use strict";let r=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>r],63488)},62752,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(55436),t=e.i(7233),l=e.i(88511),o=e.i(27612),d=e.i(32811),n=e.i(63488);let c=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var i=e.i(54858),u=e.i(44075);function m(){let[e,m]=(0,s.useState)([]),[x,p]=(0,s.useState)(!0),[h,b]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),[w,C]=(0,s.useState)({name:"",email:"",password:"",role:"coordinator",phone:""});(0,s.useEffect)(()=>{k()},[]);let k=async()=>{try{let e=await i.default.get("/users");e.data.success&&m(e.data.data)}catch(e){(0,u.showError)(e)}finally{p(!1)}},S=async e=>{e.preventDefault();try{(await i.default.post("/users",w)).data.success&&((0,u.showSuccess)("User created successfully"),y(!1),C({name:"",email:"",password:"",role:"coordinator",phone:""}),k())}catch(e){(0,u.showError)(e)}},A=async e=>{if(e.preventDefault(),j)try{let e={...w};e.password||delete e.password,(await i.default.put(`/users/${j._id}`,e)).data.success&&((0,u.showSuccess)("User updated successfully"),v(!1),k())}catch(e){(0,u.showError)(e)}},E=async e=>{if(confirm("Are you sure you want to remove this user? This is a soft delete."))try{(await i.default.delete(`/users/${e}`)).data.success&&((0,u.showSuccess)("User removed successfully"),k())}catch(e){(0,u.showError)(e)}},M=e.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase()));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"User Management"}),(0,r.jsxs)("button",{onClick:()=>{C({name:"",email:"",password:"",role:"coordinator",phone:""}),y(!0)},className:"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors",children:[(0,r.jsx)(t.Plus,{className:"h-4 w-4"}),"Create User"]})]}),(0,r.jsxs)("div",{className:"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md",children:[(0,r.jsx)(a.Search,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by name or email...",className:"bg-transparent border-none outline-none text-sm w-full",value:h,onChange:e=>b(e.target.value)})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x?(0,r.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"Loading users..."}):0===M.length?(0,r.jsx)("p",{className:"text-muted-foreground col-span-full text-center py-10",children:"No users found."}):M.map(e=>(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl p-5 hover:border-primary/50 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,r.jsx)(d.UserCog,{className:"h-6 w-6"})}),(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold border ${"super_admin"===e.role?"bg-red-500/10 text-red-500 border-red-500/20":"event_admin"===e.role?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:e.role.replace("_"," ")})]}),(0,r.jsx)("h3",{className:"text-lg font-bold mb-3",children:e.name}),(0,r.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)(n.Mail,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.email})]}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)(c,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:e.phone})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,r.jsxs)("button",{onClick:()=>{N(e),C({name:e.name,email:e.email,password:"",role:e.role,phone:e.phone||""}),v(!0)},className:"flex-1 py-2 text-sm font-medium bg-secondary hover:bg-secondary/80 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(l.Edit,{className:"h-4 w-4"}),"Edit"]}),(0,r.jsx)("button",{onClick:()=>E(e._id),className:"p-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-colors",children:(0,r.jsx)(o.Trash2,{className:"h-4 w-4"})})]})]},e._id))}),g&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create New User"}),(0,r.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Full Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.name,onChange:e=>C({...w,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Email Address"}),(0,r.jsx)("input",{required:!0,type:"email",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.email,onChange:e=>C({...w,email:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Password"}),(0,r.jsx)("input",{required:!0,type:"password",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.password,onChange:e=>C({...w,password:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Role"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.role,onChange:e=>C({...w,role:e.target.value}),children:[(0,r.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,r.jsx)("option",{value:"event_admin",children:"Event Admin"}),(0,r.jsx)("option",{value:"super_admin",children:"Super Admin"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone (Optional)"}),(0,r.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.phone,onChange:e=>C({...w,phone:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})}),f&&j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit User"}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Full Name"}),(0,r.jsx)("input",{required:!0,className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.name,onChange:e=>C({...w,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Email Address"}),(0,r.jsx)("input",{required:!0,type:"email",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.email,onChange:e=>C({...w,email:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"New Password (Optional)"}),(0,r.jsx)("input",{type:"password",placeholder:"Leave blank to keep same",className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.password,onChange:e=>C({...w,password:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Role"}),(0,r.jsxs)("select",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.role,onChange:e=>C({...w,role:e.target.value}),children:[(0,r.jsx)("option",{value:"coordinator",children:"Coordinator"}),(0,r.jsx)("option",{value:"event_admin",children:"Event Admin"}),(0,r.jsx)("option",{value:"super_admin",children:"Super Admin"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phone (Optional)"}),(0,r.jsx)("input",{className:"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary",value:w.phone,onChange:e=>C({...w,phone:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})})]})}e.s(["default",()=>m],62752)}]);