{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECT/MES/client/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Add interceptor to include token\r\napi.interceptors.request.use((config) => {\r\n    if (typeof window !== 'undefined') {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n    }\r\n    return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACrB,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B;;IAMA,OAAO;AACX;uCAEe"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECT/MES/client/app/%28admin%29/dashboard/students/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Plus, Search, Edit, Trash2, User } from 'lucide-react';\r\nimport api from '@/lib/api';\r\n\r\ninterface Student {\r\n    _id: string;\r\n    universityRegNo: string;\r\n    course: string;\r\n    year: string;\r\n    gender: string;\r\n    college: {\r\n        _id: string;\r\n        name: string;\r\n    };\r\n}\r\n\r\nexport default function StudentsPage() {\r\n    const [students, setStudents] = useState<Student[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [colleges, setColleges] = useState<{_id: string, name: string}[]>([]);\r\n    const [newStudent, setNewStudent] = useState({\r\n        universityRegNo: '',\r\n        course: '',\r\n        year: '1',\r\n        gender: 'male',\r\n        college: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchStudents();\r\n        fetchColleges();\r\n    }, []);\r\n\r\n    const fetchColleges = async () => {\r\n        try {\r\n            const res = await api.get('/colleges');\r\n            if (res.data.success) {\r\n                setColleges(res.data.data);\r\n                if (res.data.data.length > 0) {\r\n                    setNewStudent(prev => ({ ...prev, college: res.data.data[0]._id }));\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch colleges', error);\r\n        }\r\n    };\r\n\r\n    const fetchStudents = async () => {\r\n        try {\r\n            const res = await api.get('/students');\r\n            if (res.data.success) {\r\n                setStudents(res.data.data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch students', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreate = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await api.post('/students', newStudent);\r\n            if (res.data.success) {\r\n                setIsModalOpen(false);\r\n                setNewStudent({\r\n                    universityRegNo: '',\r\n                    course: '',\r\n                    year: '1',\r\n                    gender: 'male',\r\n                    college: colleges[0]?._id || '',\r\n                });\r\n                fetchStudents();\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to register student', error);\r\n        }\r\n    };\r\n\r\n    const filteredStudents = students.filter(s => \r\n        s.universityRegNo.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        s.course.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        s.college?.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n                <h1 className=\"text-3xl font-bold\">Students</h1>\r\n                <button \r\n                    onClick={() => setIsModalOpen(true)}\r\n                    className=\"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors\"\r\n                >\r\n                    <Plus className=\"h-4 w-4\" />\r\n                    Register Student\r\n                </button>\r\n            </div>\r\n\r\n            {/* Register Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl overflow-y-auto max-h-[90vh]\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">Register New Student</h2>\r\n                        <form onSubmit={handleCreate} className=\"space-y-4\">\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">University Reg No</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm\"\r\n                                    value={newStudent.universityRegNo}\r\n                                    onChange={e => setNewStudent({...newStudent, universityRegNo: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">College</label>\r\n                                <select \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm\"\r\n                                    value={newStudent.college}\r\n                                    onChange={e => setNewStudent({...newStudent, college: e.target.value})}\r\n                                >\r\n                                    {colleges.map(c => (\r\n                                        <option key={c._id} value={c._id}>{c.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs text-muted-foreground\">Course</label>\r\n                                <input \r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm\"\r\n                                    placeholder=\"e.g. BCA, B.Sc Computer Science\"\r\n                                    value={newStudent.course}\r\n                                    onChange={e => setNewStudent({...newStudent, course: e.target.value})}\r\n                                />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Year</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm\"\r\n                                        value={newStudent.year}\r\n                                        onChange={e => setNewStudent({...newStudent, year: e.target.value})}\r\n                                    >\r\n                                        <option value=\"1\">1st Year</option>\r\n                                        <option value=\"2\">2nd Year</option>\r\n                                        <option value=\"3\">3rd Year</option>\r\n                                        <option value=\"4\">4th Year</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label className=\"text-xs text-muted-foreground\">Gender</label>\r\n                                    <select \r\n                                        className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm\"\r\n                                        value={newStudent.gender}\r\n                                        onChange={e => setNewStudent({...newStudent, gender: e.target.value})}\r\n                                    >\r\n                                        <option value=\"male\">Male</option>\r\n                                        <option value=\"female\">Female</option>\r\n                                        <option value=\"other\">Other</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex gap-3 mt-6\">\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setIsModalOpen(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button \r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors\"\r\n                                >\r\n                                    Register\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n            <div className=\"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md\">\r\n                <Search className=\"h-4 w-4 text-muted-foreground mr-2\" />\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Search by Reg No, Course or College...\" \r\n                    className=\"bg-transparent border-none outline-none text-sm w-full\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"bg-card border border-border rounded-xl overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-sm text-left\">\r\n                        <thead className=\"bg-muted/50 text-muted-foreground uppercase text-xs\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-3\">University Reg No</th>\r\n                                <th className=\"px-6 py-3\">Course & Year</th>\r\n                                <th className=\"px-6 py-3\">College</th>\r\n                                <th className=\"px-6 py-3\">Gender</th>\r\n                                <th className=\"px-6 py-3\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-border\">\r\n                            {loading ? (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"px-6 py-8 text-center text-muted-foreground\">\r\n                                        Loading...\r\n                                    </td>\r\n                                </tr>\r\n                            ) : filteredStudents.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"px-6 py-8 text-center text-muted-foreground\">\r\n                                        No students found.\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                filteredStudents.map((student) => (\r\n                                    <tr key={student._id} className=\"hover:bg-muted/30 transition-colors\">\r\n                                        <td className=\"px-6 py-4 font-medium\">{student.universityRegNo}</td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span>{student.course}</span>\r\n                                                <span className=\"text-xs text-muted-foreground\">{student.year} Year</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-muted-foreground\">{student.college?.name}</td>\r\n                                        <td className=\"px-6 py-4 capitalize\">{student.gender}</td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <button className=\"p-2 hover:bg-muted rounded-md text-muted-foreground hover:text-foreground transition-colors\">\r\n                                                    <Edit className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                                <button className=\"p-2 hover:bg-destructive/10 rounded-md text-muted-foreground hover:text-destructive transition-colors\">\r\n                                                    <Trash2 className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}