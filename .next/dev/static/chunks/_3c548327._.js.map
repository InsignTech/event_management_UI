{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECT/MES/client/components/SearchableSelect.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Search, ChevronDown, Check } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface Option {\r\n    _id: string;\r\n    name: string;\r\n}\r\n\r\ninterface SearchableSelectProps {\r\n    options: Option[];\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    label?: string;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport default function SearchableSelect({ options, value, onChange, placeholder = \"Select...\", label, disabled }: SearchableSelectProps) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Close when disabled\r\n    useEffect(() => {\r\n        if (disabled && isOpen) setIsOpen(false);\r\n    }, [disabled, isOpen]);\r\n\r\n    const selectedOption = options.find(opt => opt._id === value);\r\n\r\n    const filteredOptions = options.filter(opt => \r\n        opt.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"space-y-1 relative\" ref={containerRef}>\r\n            {label && <label className=\"text-xs text-muted-foreground\">{label}</label>}\r\n            <button\r\n                type=\"button\"\r\n                disabled={disabled}\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className={cn(\r\n                    \"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm flex justify-between items-center transition-colors\",\r\n                    disabled ? \"opacity-50 cursor-not-allowed\" : \"hover:border-primary/50\"\r\n                )}\r\n            >\r\n                <span className={cn(!selectedOption && \"text-muted-foreground\")}>\r\n                    {selectedOption ? selectedOption.name : placeholder}\r\n                </span>\r\n                <ChevronDown className={cn(\"h-4 w-4 text-muted-foreground transition-transform\", isOpen && \"rotate-180\")} />\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"absolute z-50 top-full left-0 w-full mt-1 bg-card border border-border rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-60\">\r\n                    <div className=\"p-2 border-b border-border bg-muted/50\">\r\n                        <div className=\"relative\">\r\n                            <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\r\n                            <input\r\n                                autoFocus\r\n                                className=\"w-full bg-background border border-border rounded-md pl-7 pr-2 py-1 text-xs outline-none focus:border-primary\"\r\n                                placeholder=\"Search...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-1 overflow-y-auto py-1\">\r\n                        {filteredOptions.length === 0 ? (\r\n                            <div className=\"px-3 py-2 text-xs text-muted-foreground italic text-center\">No results found</div>\r\n                        ) : (\r\n                            filteredOptions.map((opt) => (\r\n                                <button\r\n                                    key={opt._id}\r\n                                    type=\"button\"\r\n                                    onClick={() => {\r\n                                        onChange(opt._id);\r\n                                        setIsOpen(false);\r\n                                        setSearchTerm('');\r\n                                    }}\r\n                                    className=\"w-full text-left px-3 py-2 text-sm hover:bg-primary/10 flex justify-between items-center transition-colors\"\r\n                                >\r\n                                    {opt.name}\r\n                                    {value === opt._id && <Check className=\"h-4 w-4 text-primary\" />}\r\n                                </button>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;;;AAHA;;;;AAmBe,SAAS,iBAAiB,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAyB;;IACpI,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,eAAe,IAAA,uKAAM,EAAiB;IAE5C,sBAAsB;IACtB,IAAA,0KAAS;sCAAC;YACN,IAAI,YAAY,QAAQ,UAAU;QACtC;qCAAG;QAAC;QAAU;KAAO;IAErB,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,GAAG,KAAK;IAEvD,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAA,MACnC,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAG1D,IAAA,0KAAS;sCAAC;YACN,MAAM;iEAAqB,CAAC;oBACxB,IAAI,aAAa,OAAO,IAAI,CAAC,aAAa,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBAC9E,UAAU;oBACd;gBACJ;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;8CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QAC3D;qCAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,WAAU;QAAqB,KAAK;;YACpC,uBAAS,6LAAC;gBAAM,WAAU;0BAAiC;;;;;;0BAC5D,6LAAC;gBACG,MAAK;gBACL,UAAU;gBACV,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAW,IAAA,qHAAE,EACT,6HACA,WAAW,kCAAkC;;kCAGjD,6LAAC;wBAAK,WAAW,IAAA,qHAAE,EAAC,CAAC,kBAAkB;kCAClC,iBAAiB,eAAe,IAAI,GAAG;;;;;;kCAE5C,6LAAC,sOAAW;wBAAC,WAAW,IAAA,qHAAE,EAAC,sDAAsD,UAAU;;;;;;;;;;;;YAG9F,wBACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,mNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC;oCACG,SAAS;oCACT,WAAU;oCACV,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;kCAIzD,6LAAC;wBAAI,WAAU;kCACV,gBAAgB,MAAM,KAAK,kBACxB,6LAAC;4BAAI,WAAU;sCAA6D;;;;;mCAE5E,gBAAgB,GAAG,CAAC,CAAC,oBACjB,6LAAC;gCAEG,MAAK;gCACL,SAAS;oCACL,SAAS,IAAI,GAAG;oCAChB,UAAU;oCACV,cAAc;gCAClB;gCACA,WAAU;;oCAET,IAAI,IAAI;oCACR,UAAU,IAAI,GAAG,kBAAI,6LAAC,gNAAK;wCAAC,WAAU;;;;;;;+BAVlC,IAAI,GAAG;;;;;;;;;;;;;;;;;;;;;;AAmBhD;GAnFwB;KAAA"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECT/MES/client/lib/toast.ts"],"sourcesContent":["import { toast } from 'react-hot-toast';\r\n\r\nexport const getErrorMessage = (error: any): string => {\r\n    const data = error.response?.data;\r\n\r\n    // Prioritize detailed errors if available\r\n    if (data?.errors && Array.isArray(data.errors) && data.errors.length > 0) {\r\n        return data.errors.map((e: any) => e.message || e).join(', ');\r\n    }\r\n\r\n    if (data?.message) {\r\n        return data.message;\r\n    }\r\n\r\n    return error.message || 'An unexpected error occurred';\r\n};\r\n\r\nexport const showSuccess = (message: string) => {\r\n    toast.success(message, {\r\n        style: {\r\n            borderRadius: '10px',\r\n            background: '#333',\r\n            color: '#fff',\r\n        },\r\n    });\r\n};\r\n\r\nexport const showError = (error: any) => {\r\n    const message = getErrorMessage(error);\r\n    toast.error(message, {\r\n        style: {\r\n            borderRadius: '10px',\r\n            background: '#333',\r\n            color: '#fff',\r\n        },\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,MAAM,kBAAkB,CAAC;IAC5B,MAAM,OAAO,MAAM,QAAQ,EAAE;IAE7B,0CAA0C;IAC1C,IAAI,MAAM,UAAU,MAAM,OAAO,CAAC,KAAK,MAAM,KAAK,KAAK,MAAM,CAAC,MAAM,GAAG,GAAG;QACtE,OAAO,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,IAAW,EAAE,OAAO,IAAI,GAAG,IAAI,CAAC;IAC5D;IAEA,IAAI,MAAM,SAAS;QACf,OAAO,KAAK,OAAO;IACvB;IAEA,OAAO,MAAM,OAAO,IAAI;AAC5B;AAEO,MAAM,cAAc,CAAC;IACxB,mKAAK,CAAC,OAAO,CAAC,SAAS;QACnB,OAAO;YACH,cAAc;YACd,YAAY;YACZ,OAAO;QACX;IACJ;AACJ;AAEO,MAAM,YAAY,CAAC;IACtB,MAAM,UAAU,gBAAgB;IAChC,mKAAK,CAAC,KAAK,CAAC,SAAS;QACjB,OAAO;YACH,cAAc;YACd,YAAY;YACZ,OAAO;QACX;IACJ;AACJ"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECT/MES/client/app/%28admin%29/dashboard/events/%5Bid%5D/programs/%5BprogramId%5D/registrations/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { Plus, Search, Trash2, UserCheck, Users, Trophy, Star, ChevronLeft, ChevronRight, Lock, CheckCircle, XCircle, Ban, AlertCircle, Edit } from 'lucide-react';\r\nimport api from '@/lib/api';\r\nimport Link from 'next/link';\r\nimport SearchableSelect from '@/components/SearchableSelect';\r\nimport { showError, showSuccess } from '@/lib/toast';\r\n\r\ninterface Student {\r\n    _id: string;\r\n    name?: string;\r\n    registrationCode: string;\r\n    phone: string;\r\n    college: { _id: string, name: string };\r\n}\r\n\r\ninterface Registration {\r\n    _id: string;\r\n    chestNumber: string;\r\n    participants: Student[];\r\n    status: 'open' | 'confirmed' | 'participated' | 'absent' | 'cancelled';\r\n    cancellationReason?: string;\r\n    pointsObtained: number;\r\n}\r\n\r\nexport default function ProgramRegistrationsPage() {\r\n    const params = useParams();\r\n    const { id: eventId, programId } = params;\r\n    const [registrations, setRegistrations] = useState<Registration[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [pagination, setPagination] = useState<{total: number, page: number, limit: number, pages: number} | null>(null);\r\n    const [page, setPage] = useState(1);\r\n    const [isPublished, setIsPublished] = useState(false);\r\n    const [programDetails, setProgramDetails] = useState<{name: string} | null>(null);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isScoreModalOpen, setIsScoreModalOpen] = useState(false);\r\n    const [isCancelModalOpen, setIsCancelModalOpen] = useState(false);\r\n    const [selectedRegistration, setSelectedRegistration] = useState<Registration | null>(null);\r\n    const [scoreValue, setScoreValue] = useState<string>('');\r\n    const [cancellationReason, setCancellationReason] = useState('');\r\n    const [isSubmittingScore, setIsSubmittingScore] = useState(false);\r\n\r\n    const [colleges, setColleges] = useState<{_id: string, name: string}[]>([]);\r\n    const [selectedCollege, setSelectedCollege] = useState('');\r\n    const [allStudents, setAllStudents] = useState<Student[]>([]);\r\n    const [selectedStudentIds, setSelectedStudentIds] = useState<string[]>([]);\r\n    const [studentSearch, setStudentSearch] = useState('');\r\n    const [searchingStudents, setSearchingStudents] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (programId) {\r\n            fetchRegistrations(page);\r\n            fetchColleges();\r\n        }\r\n    }, [programId, page]);\r\n\r\n    // Debounced student search\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (studentSearch.length >= 2 || (studentSearch.length === 0 && selectedCollege)) {\r\n                searchStudents();\r\n            } else if (!selectedCollege && studentSearch.length < 2) {\r\n                setAllStudents([]); // Clear students if no college and search term is too short\r\n            }\r\n        }, 500);\r\n        return () => clearTimeout(timer);\r\n    }, [studentSearch, selectedCollege]);\r\n\r\n    const fetchColleges = async () => {\r\n        try {\r\n            const res = await api.get('/colleges');\r\n            if (res.data.success) {\r\n                setColleges(res.data.data);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const searchStudents = async () => {\r\n        if (!selectedCollege && !studentSearch) {\r\n            setAllStudents([]);\r\n            return;\r\n        }\r\n        setSearchingStudents(true);\r\n        try {\r\n            const res = await api.get('/students', {\r\n                params: {\r\n                    college: selectedCollege,\r\n                    search: studentSearch\r\n                }\r\n            });\r\n            if (res.data.success) {\r\n                setAllStudents(res.data.data);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        } finally {\r\n            setSearchingStudents(false);\r\n        }\r\n    };\r\n\r\n    const fetchRegistrations = async (pageNum: number = 1) => {\r\n        try {\r\n            setLoading(true);\r\n            const res = await api.get(`/registrations/program/${programId}?page=${pageNum}&limit=50`);\r\n            if (res.data.success) {\r\n                setRegistrations(res.data.registrations || []);\r\n                setPagination(res.data.pagination || null);\r\n                setIsPublished(res.data.isResultPublished || false);\r\n                setProgramDetails(res.data.program || null);\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreateOrUpdate = async () => {\r\n        if (selectedStudentIds.length === 0) return;\r\n        try {\r\n            if (selectedRegistration) {\r\n                // Update\r\n                const res = await api.put(`/registrations/${selectedRegistration._id}`, {\r\n                    participants: selectedStudentIds\r\n                });\r\n                if (res.data.success) {\r\n                    showSuccess('Registration updated successfully');\r\n                    closeModal();\r\n                    fetchRegistrations();\r\n                }\r\n            } else {\r\n                // Create\r\n                const res = await api.post('/registrations', { \r\n                    program: programId, \r\n                    participants: selectedStudentIds \r\n                });\r\n                if (res.data.success) {\r\n                    showSuccess('Registration successful');\r\n                    closeModal();\r\n                    fetchRegistrations();\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setIsModalOpen(false);\r\n        setSelectedRegistration(null);\r\n        setSelectedStudentIds([]);\r\n        setSelectedCollege('');\r\n        setStudentSearch('');\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this registration?')) return;\r\n        try {\r\n            const res = await api.delete(`/registrations/${id}`);\r\n            if (res.data.success) {\r\n                showSuccess('Registration deleted successfully');\r\n                fetchRegistrations();\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const handleStatusUpdate = async (id: string, status: string) => {\r\n        try {\r\n            const res = await api.patch(`/registrations/${id}/status`, { status });\r\n            if (res.data.success) {\r\n                showSuccess(`Status updated to ${status}`);\r\n                fetchRegistrations();\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const handleCancelSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!selectedRegistration || !cancellationReason) return;\r\n        try {\r\n            const res = await api.post(`/registrations/${selectedRegistration._id}/cancel`, {\r\n                reason: cancellationReason\r\n            });\r\n            if (res.data.success) {\r\n                showSuccess('Registration cancelled');\r\n                setIsCancelModalOpen(false);\r\n                setCancellationReason('');\r\n                setSelectedRegistration(null);\r\n                fetchRegistrations();\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        }\r\n    };\r\n\r\n    const handleScoreSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!selectedRegistration || !scoreValue) return;\r\n        \r\n        setIsSubmittingScore(true);\r\n        try {\r\n            const res = await api.post('/scores/submit', {\r\n                programId,\r\n                registrationId: selectedRegistration._id,\r\n                criteria: { \"Mark\": parseFloat(scoreValue) }\r\n            });\r\n            \r\n            if (res.data.success) {\r\n                showSuccess('Score submitted successfully');\r\n                setIsScoreModalOpen(false);\r\n                setScoreValue('');\r\n                setSelectedRegistration(null);\r\n                fetchRegistrations();\r\n            }\r\n        } catch (error) {\r\n            showError(error);\r\n        } finally {\r\n            setIsSubmittingScore(false);\r\n        }\r\n    };\r\n\r\n    const filteredRegistrations = registrations.filter(r => \r\n        r.chestNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        r.participants.some(p => \r\n            p.registrationCode.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            p.name?.toLowerCase().includes(searchTerm.toLowerCase())\r\n        )\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <Link href=\"/dashboard/events\" className=\"hover:text-primary\">Events</Link>\r\n                <span>/</span>\r\n                <Link href={`/dashboard/events/${eventId}/programs`} className=\"hover:text-primary\">Programs</Link>\r\n                <span>/</span>\r\n                <span className=\"text-foreground font-medium\">Registrations</span>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold\">Registrations</h1>\r\n                    {programDetails && (\r\n                        <p className=\"text-sm text-muted-foreground mt-1 flex items-center gap-2 font-sans\">\r\n                            Program: <span className=\"text-primary font-bold px-2 py-0.5 bg-primary/10 rounded\">{programDetails.name}</span>\r\n                        </p>\r\n                    )}\r\n                </div>\r\n                <button \r\n                    disabled={isPublished}\r\n                    title={isPublished ? \"Registration Closed (Published)\" : \"New Registration\"}\r\n                    onClick={() => setIsModalOpen(true)}\r\n                    className=\"flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                    {isPublished ? <Lock className=\"h-4 w-4\" /> : <Plus className=\"h-4 w-4\" />}\r\n                    New Registration\r\n                </button>\r\n            </div>\r\n\r\n            {/* Registration Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-md p-6 shadow-2xl flex flex-col max-h-[90vh]\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">{selectedRegistration ? 'Edit Registration' : 'Register for Program'}</h2>\r\n                        \r\n                        <div className=\"mb-4\">\r\n                            <label className=\"text-xs text-muted-foreground block mb-2\">Selected Participants</label>\r\n                            <div className=\"flex flex-wrap gap-2 min-h-[40px] p-2 bg-secondary rounded-lg border border-border\">\r\n                                {selectedStudentIds.length === 0 && <span className=\"text-xs text-muted-foreground italic\">No students selected</span>}\r\n                                {selectedStudentIds.map(id => {\r\n                                    const student = allStudents.find(s => s._id === id) || registrations.flatMap(r => r.participants).find(p => p._id === id);\r\n                                    return (\r\n                                        <span key={id} className=\"bg-primary/20 text-primary px-2 py-1 rounded-md text-xs flex items-center gap-1\">\r\n                                            {student?.name || student?.registrationCode}\r\n                                            <button \r\n                                                onClick={() => setSelectedStudentIds(selectedStudentIds.filter(sid => sid !== id))}\r\n                                                className=\"hover:text-foreground\"\r\n                                            >\r\n                                                ×\r\n                                            </button>\r\n                                        </span>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 flex-1 overflow-hidden flex flex-col\">\r\n                            <div className=\"relative\">\r\n                                <SearchableSelect \r\n                                    label=\"Filter by College\"\r\n                                    options={colleges}\r\n                                    value={selectedCollege}\r\n                                    onChange={(val) => {\r\n                                        if (selectedStudentIds.length > 0) return;\r\n                                        setSelectedCollege(val);\r\n                                    }}\r\n                                    placeholder=\"Select College...\"\r\n                                    disabled={selectedStudentIds.length > 0}\r\n                                />\r\n                                {selectedStudentIds.length > 0 && (\r\n                                    <p className=\"text-[10px] text-primary mt-1 flex items-center gap-1 font-bold\">\r\n                                        <Lock className=\"h-3 w-3\" /> College locked (Group members must be from same college)\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"relative\">\r\n                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                                <input \r\n                                    className=\"w-full bg-secondary border border-border rounded-lg pl-9 pr-3 py-2 text-sm outline-none focus:border-primary\"\r\n                                    placeholder=\"Search by Name or Reg No...\"\r\n                                    value={studentSearch}\r\n                                    onChange={e => setStudentSearch(e.target.value)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 overflow-y-auto border border-border rounded-lg divide-y divide-border min-h-[200px]\">\r\n                                {searchingStudents ? (\r\n                                    <p className=\"p-4 text-center text-xs text-muted-foreground\">Searching...</p>\r\n                                ) : allStudents.length === 0 ? (\r\n                                    <p className=\"p-4 text-center text-xs text-muted-foreground italic truncate\">\r\n                                        {!selectedCollege ? \"Select a college first\" : \"No students found\"}\r\n                                    </p>\r\n                                ) : (\r\n                                    allStudents\r\n                                        .filter(s => !selectedStudentIds.includes(s._id))\r\n                                        .filter(s => {\r\n                                            // Ensure same college if others are selected\r\n                                            if (selectedStudentIds.length === 0) return true;\r\n                                            const firstStudent = registrations.flatMap(r => r.participants).find(p => p._id === selectedStudentIds[0]) \r\n                                                || allStudents.find(p => p._id === selectedStudentIds[0]);\r\n                                            return s.college._id === firstStudent?.college._id;\r\n                                        })\r\n                                        .map(student => (\r\n                                        <button \r\n                                            key={student._id}\r\n                                            onClick={() => {\r\n                                                if (selectedStudentIds.length === 0) {\r\n                                                    setSelectedCollege(student.college._id);\r\n                                                }\r\n                                                setSelectedStudentIds([...selectedStudentIds, student._id]);\r\n                                            }}\r\n                                            className=\"w-full text-left px-4 py-3 hover:bg-muted text-sm transition-colors flex justify-between items-center group\"\r\n                                        >\r\n                                            <div>\r\n                                                <p className=\"font-bold\">{student.name || 'Unknown student'}</p>\r\n                                                <p className=\"text-[10px] text-muted-foreground truncate\">{student.registrationCode} • {student.college.name}</p>\r\n                                            </div>\r\n                                            <Plus className=\"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors\" />\r\n                                        </button>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3 mt-6\">\r\n                            <button \r\n                                onClick={closeModal}\r\n                                className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors font-medium\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button \r\n                                onClick={handleCreateOrUpdate}\r\n                                disabled={selectedStudentIds.length === 0}\r\n                                className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                {selectedRegistration ? 'Save Changes' : 'Register'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Score Modal */}\r\n            {isScoreModalOpen && selectedRegistration && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-sm p-6 shadow-2xl\">\r\n                        <h2 className=\"text-xl font-bold mb-2 flex items-center gap-2\">\r\n                             <Trophy className=\"h-5 w-5 text-yellow-500\" />\r\n                             Submit Score\r\n                        </h2>\r\n                        <p className=\"text-xs text-muted-foreground mb-6\">\r\n                            Enter marks for chest number <span className=\"font-bold text-primary\">{selectedRegistration.chestNumber}</span>\r\n                        </p>\r\n                        \r\n                        <form onSubmit={handleScoreSubmit} className=\"space-y-4\">\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs font-medium text-muted-foreground\">Marks / Points</label>\r\n                                <input \r\n                                    type=\"number\"\r\n                                    step=\"0.01\"\r\n                                    autoFocus\r\n                                    required\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-4 py-3 text-lg font-bold outline-none focus:border-primary text-center\"\r\n                                    placeholder=\"0.00\"\r\n                                    value={scoreValue}\r\n                                    onChange={e => setScoreValue(e.target.value)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-3 mt-8\">\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setIsScoreModalOpen(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button \r\n                                    type=\"submit\"\r\n                                    disabled={isSubmittingScore}\r\n                                    className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                                >\r\n                                    {isSubmittingScore ? 'Submitting...' : 'Save Score'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Cancel Modal */}\r\n            {isCancelModalOpen && selectedRegistration && (\r\n                <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 font-sans text-foreground\">\r\n                    <div className=\"bg-card border border-border rounded-xl w-full max-w-sm p-6 shadow-2xl\">\r\n                        <h2 className=\"text-xl font-bold mb-2 flex items-center gap-2 text-destructive\">\r\n                             <Ban className=\"h-5 w-5\" />\r\n                             Cancel Registration\r\n                        </h2>\r\n                        <p className=\"text-xs text-muted-foreground mb-6\">\r\n                            Reason for cancellation of <span className=\"font-bold\">{selectedRegistration.chestNumber}</span>\r\n                        </p>\r\n                        \r\n                        <form onSubmit={handleCancelSubmit} className=\"space-y-4\">\r\n                            <div className=\"space-y-1\">\r\n                                <label className=\"text-xs font-medium text-muted-foreground\">Reason</label>\r\n                                <textarea \r\n                                    required\r\n                                    rows={3}\r\n                                    className=\"w-full bg-secondary border border-border rounded-lg px-3 py-2 text-sm outline-none focus:border-primary resize-none\"\r\n                                    placeholder=\"e.g. Student absent, Disqualified...\"\r\n                                    value={cancellationReason}\r\n                                    onChange={e => setCancellationReason(e.target.value)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-3 mt-4\">\r\n                                <button \r\n                                    type=\"button\"\r\n                                    onClick={() => setIsCancelModalOpen(false)}\r\n                                    className=\"flex-1 px-4 py-2 border border-border rounded-lg text-sm hover:bg-secondary transition-colors\"\r\n                                >\r\n                                    Back\r\n                                </button>\r\n                                <button \r\n                                    type=\"submit\"\r\n                                    className=\"flex-1 px-4 py-2 bg-destructive text-destructive-foreground rounded-lg text-sm font-bold hover:bg-destructive/90 transition-colors\"\r\n                                >\r\n                                    Confirm Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n            <div className=\"flex items-center px-4 py-2 bg-card border border-border rounded-lg max-w-md\">\r\n                <Search className=\"h-4 w-4 text-muted-foreground mr-2\" />\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Search by Chest No, Name or Reg No...\" \r\n                    className=\"bg-transparent border-none outline-none text-sm w-full\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"bg-card border border-border rounded-xl overflow-hidden font-sans\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-sm text-left\">\r\n                        <thead className=\"bg-muted/50 text-muted-foreground uppercase text-xs font-bold\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4\">Chest Number</th>\r\n                                <th className=\"px-6 py-4\">Participants</th>\r\n                                <th className=\"px-6 py-4\">Status</th>\r\n                                <th className=\"px-6 py-4\">Score</th>\r\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-border\">\r\n                            {loading ? (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"px-6 py-8 text-center text-muted-foreground\">\r\n                                        Loading registrations...\r\n                                    </td>\r\n                                </tr>\r\n                            ) : filteredRegistrations.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"px-6 py-8 text-center text-muted-foreground font-medium\">\r\n                                        No registrations found.\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                filteredRegistrations.map((reg) => (\r\n                                    <tr key={reg._id} className=\"hover:bg-muted/30 transition-colors group\">\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <span className=\"font-mono bg-primary/10 text-primary px-3 py-1 rounded-md text-base font-black\">\r\n                                                {reg.chestNumber}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex flex-col gap-1\">\r\n                                                {reg.participants.map((p) => (\r\n                                                    <div key={p._id} className=\"flex flex-col gap-0.5 mb-1 last:mb-0\">\r\n                                                        <div className=\"flex items-center gap-2\">\r\n                                                            <UserCheck className=\"h-3 w-3 text-muted-foreground\" />\r\n                                                            <span className=\"font-medium text-foreground\">{p.name || 'N/A'}</span>\r\n                                                        </div>\r\n                                                        <div className=\"text-[10px] text-muted-foreground ml-5 font-medium\">\r\n                                                            {p.registrationCode} • {p.college.name}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                                {reg.participants.length > 1 && (\r\n                                                    <span className=\"text-[10px] text-purple-400 font-bold flex items-center gap-1 mt-1 bg-purple-400/10 w-fit px-1.5 py-0.5 rounded\">\r\n                                                        <Users className=\"h-3 w-3\" /> GROUP ENTRY\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 capitalize\">\r\n                                            <div className=\"flex flex-col gap-1 items-start\">\r\n                                                <span className={`px-2.5 py-1 rounded-full text-[10px] font-black border tracking-wider uppercase ${\r\n                                                    reg.status === 'participated'\r\n                                                        ? 'bg-green-500/10 text-green-500 border-green-500/20'\r\n                                                        : reg.status === 'confirmed'\r\n                                                        ? 'bg-blue-500/10 text-blue-500 border-blue-500/20'\r\n                                                        : reg.status === 'cancelled'\r\n                                                        ? 'bg-red-500/10 text-red-500 border-red-500/20'\r\n                                                        : 'bg-muted text-muted-foreground border-border'\r\n                                                }`}>\r\n                                                    {reg.status.replace('_', ' ')}\r\n                                                </span>\r\n                                                {reg.cancellationReason && (\r\n                                                    <span className=\"text-[10px] text-destructive italic max-w-[150px] truncate\" title={reg.cancellationReason}>\r\n                                                        {reg.cancellationReason}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <div className={`p-1.5 rounded-lg ${reg.pointsObtained > 0 ? 'bg-yellow-500/10 text-yellow-500' : 'bg-muted text-muted-foreground'}`}>\r\n                                                    <Star className={`h-4 w-4 ${reg.pointsObtained > 0 ? 'fill-yellow-500' : ''}`} />\r\n                                                </div>\r\n                                                <span className={`text-lg font-black ${reg.pointsObtained > 0 ? 'text-foreground' : 'text-muted-foreground'}`}>\r\n                                                    {reg.pointsObtained || '0.00'}\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-right\">\r\n                                            <div className=\"flex items-center justify-end gap-1\">\r\n                                                {reg.status === 'open' && (\r\n                                                    <button \r\n                                                        title=\"Confirm Registration\"\r\n                                                        onClick={() => handleStatusUpdate(reg._id, 'confirmed')}\r\n                                                        className=\"p-2 hover:bg-blue-500/10 rounded-lg text-muted-foreground hover:text-blue-500 transition-all\"\r\n                                                    >\r\n                                                        <CheckCircle className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                )}\r\n                                                {reg.status === 'confirmed' && (\r\n                                                    <button \r\n                                                        title=\"Mark as Participated\"\r\n                                                        onClick={() => handleStatusUpdate(reg._id, 'participated')}\r\n                                                        className=\"p-2 hover:bg-green-500/10 rounded-lg text-muted-foreground hover:text-green-500 transition-all\"\r\n                                                    >\r\n                                                        <Trophy className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                )}\r\n                                                \r\n                                                {reg.status !== 'cancelled' && (\r\n                                                     <button \r\n                                                        title=\"Cancel Registration\"\r\n                                                        onClick={() => { setSelectedRegistration(reg); setIsCancelModalOpen(true); }}\r\n                                                        className=\"p-2 hover:bg-red-500/10 rounded-lg text-muted-foreground hover:text-red-500 transition-all\"\r\n                                                    >\r\n                                                        <Ban className=\"h-4 w-4\" />\r\n                                                    </button>\r\n                                                )}\r\n\r\n                                                <div className=\"h-4 w-px bg-border mx-1\"></div>\r\n\r\n                                                <button \r\n                                                    title={isPublished ? \"Score Locked (Published)\" : \"Submit Score\"}\r\n                                                    onClick={() => { \r\n                                                        if (isPublished) return;\r\n                                                        setSelectedRegistration(reg); \r\n                                                        setScoreValue(reg.pointsObtained?.toString() || ''); \r\n                                                        setIsScoreModalOpen(true); \r\n                                                    }}\r\n                                                    className={`p-2 rounded-lg transition-all border border-transparent ${\r\n                                                        isPublished \r\n                                                            ? 'text-muted-foreground/30 cursor-not-allowed' \r\n                                                            : 'hover:bg-yellow-500/10 text-muted-foreground hover:text-yellow-500 hover:border-yellow-500/20'\r\n                                                    }`}\r\n                                                >\r\n                                                    {isPublished ? <Lock className=\"h-4 w-4\" /> : <Star className=\"h-4 w-4\" />}\r\n                                                </button>\r\n                                                <button \r\n                                                    title=\"Edit Registration\"\r\n                                                    onClick={() => {\r\n                                                        setSelectedRegistration(reg);\r\n                                                        setSelectedStudentIds(reg.participants.map(p => p._id));\r\n                                                        setIsModalOpen(true);\r\n                                                    }}\r\n                                                    className=\"p-2 hover:bg-secondary rounded-lg text-muted-foreground hover:text-foreground transition-all\"\r\n                                                >\r\n                                                    <Edit className=\"h-4 w-4\" />\r\n                                                </button>\r\n\r\n                                                <button \r\n                                                    title=\"Delete Permanently\"\r\n                                                    onClick={() => handleDelete(reg._id)}\r\n                                                    className=\"p-2 hover:bg-destructive/10 rounded-lg text-muted-foreground hover:text-destructive transition-all border border-transparent hover:border-destructive/20\"\r\n                                                >\r\n                                                    <Trash2 className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                {pagination && pagination.pages > 1 && (\r\n                    <div className=\"flex items-center justify-between px-6 py-4 bg-muted/20 border-t border-border\">\r\n                        <div className=\"text-xs text-muted-foreground\">\r\n                            Showing {((page - 1) * pagination.limit) + 1} to {Math.min(page * pagination.limit, pagination.total)} of {pagination.total} results\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <button \r\n                                onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                                disabled={page === 1}\r\n                                className=\"p-1 rounded hover:bg-muted disabled:opacity-50 transition-colors\"\r\n                            >\r\n                                <ChevronLeft className=\"h-4 w-4\" />\r\n                            </button>\r\n                            <span className=\"text-xs font-medium\">Page {page} of {pagination.pages}</span>\r\n                            <button \r\n                                onClick={() => setPage(p => Math.min(pagination.pages, p + 1))}\r\n                                disabled={page === pagination.pages}\r\n                                className=\"p-1 rounded hover:bg-muted disabled:opacity-50 transition-colors\"\r\n                            >\r\n                                <ChevronRight className=\"h-4 w-4\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}